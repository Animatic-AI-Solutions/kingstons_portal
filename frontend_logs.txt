MultiSelectDropdown.tsx:171 âœ… MultiSelect: Adding item 28 to selection. New values: [28]
ReportGenerator.tsx:774 ğŸ• PHASE 2.1: Using debounced updateRelatedProducts (300ms delay)
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 0 products
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: []
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 0 products
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: []
ReportGenerator.tsx:3055 ğŸš« PHASE 1.2 FIX: Skipping IRR dates fetch - no included products
ReportGenerator.tsx:703 Fetching 1 client groups in parallel...
ReportGenerator.tsx:714 Fetched client group 28: 2 products
ReportGenerator.tsx:744 Parallel fetch complete: 1 client groups processed
ReportGenerator.tsx:754 Total products displayed: 2
ReportGenerator.tsx:755 Client group cache size: 0 groups
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:774 ğŸ• PHASE 2.1: Using debounced updateRelatedProducts (300ms delay)
ReportGenerator.tsx:3061 ğŸ“Š Fetching available IRR dates for 2 products
historicalIRRService.ts:143 ğŸ“Š Attempting to fetch combined historical IRR from: /api/historical-irr/combined/236?limit=1000
historicalIRRService.ts:154 ğŸ“Š Response status: 200, Content-Type: application/json
historicalIRRService.ts:181 âœ… Combined historical IRR fetched successfully for product 236: {product_id: 236, portfolio_historical_irr: Array(4), funds_historical_irr: Array(2), portfolio_count: 4, funds_count: 2,Â â€¦}
historicalIRRService.ts:143 ğŸ“Š Attempting to fetch combined historical IRR from: /api/historical-irr/combined/237?limit=1000
historicalIRRService.ts:154 ğŸ“Š Response status: 200, Content-Type: application/json
historicalIRRService.ts:181 âœ… Combined historical IRR fetched successfully for product 237: {product_id: 237, portfolio_historical_irr: Array(3), funds_historical_irr: Array(2), portfolio_count: 3, funds_count: 2,Â â€¦}
ReportGenerator.tsx:2937 Global Top 8 Most Recent Dates: []
ReportGenerator.tsx:2957 Product 236: Selected 0 out of 8 global dates: []
ReportGenerator.tsx:2957 Product 237: Selected 0 out of 8 global dates: []
ReportGenerator.tsx:2960 Select All Results Summary:
ReportGenerator.tsx:2961 Global unique dates selected: 0
ReportGenerator.tsx:2964 Product 236: 0/0 global dates selected
ReportGenerator.tsx:2964 Product 237: 0/0 global dates selected
ReportGenerator.tsx:678 Using cached data for client group 28: 2 products
ReportGenerator.tsx:754 Total products displayed: 2
ReportGenerator.tsx:755 Client group cache size: 1 groups
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:3061 ğŸ“Š Fetching available IRR dates for 2 products
ReportGenerator.tsx:2937 Global Top 8 Most Recent Dates: (5)Â ['2023-04-01', '2023-03-01', '2023-02-01', '2023-01-01', '2022-08-01']
ReportGenerator.tsx:2957 Product 236: Selected 4 out of 8 global dates: (4)Â ['2023-04-01', '2023-03-01', '2023-02-01', '2023-01-01']
ReportGenerator.tsx:2957 Product 237: Selected 3 out of 8 global dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
ReportGenerator.tsx:2960 Select All Results Summary:
ReportGenerator.tsx:2961 Global unique dates selected: 5
ReportGenerator.tsx:2964 Product 236: 4/5 global dates selected
ReportGenerator.tsx:2964 Product 237: 3/5 global dates selected
ReportGenerator.tsx:1312 Report generation validation:
ReportGenerator.tsx:1313 Selected client groups: 1
ReportGenerator.tsx:1314 Selected products: 0
ReportGenerator.tsx:1353 Using fallback valuation date: 2023-02-01 (from IRR dates)
ReportGenerator.tsx:1357 Final valuation date for report: 2023-02-01
ReportGenerator.tsx:1358 IRR dates selected: Yes (3 dates)
ReportGenerator.tsx:1359 Available valuation dates: 0
ReportGenerator.tsx:1415 Unique Product IDs for report: (2)Â [236, 237]
ReportGenerator.tsx:1448 Fetching historical IRR data for products: (2)Â [236, 237]
ReportGenerator.tsx:1261 Global selected months: (2)Â ['2023-02', '2023-01']
ReportGenerator.tsx:1262 Total historical IRR map entries: 4
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:3089 ğŸ“… End valuation date changed, filtering IRR dates: 2023-02-01
ReportGenerator.tsx:1450 Historical IRR data fetched: 4 funds with historical data
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:1478 Product Stocks & Shares ISA has 3 portfolio funds: (3)Â [{â€¦}, {â€¦}, {â€¦}]
ReportGenerator.tsx:1514 Fetching activity logs for 3 portfolio funds: (3)Â [1107, 1108, 1109]
ReportGenerator.tsx:1521 Retrieved 4 total activity logs for product Stocks & Shares ISA
ReportGenerator.tsx:1522 Sample activities: (3)Â [{â€¦}, {â€¦}, {â€¦}]
valuationDataService.ts:145 ğŸš€ Batch fetching ALL historical valuations for 3 funds (eliminates 3 individual requests)
valuationDataService.ts:164 âœ… Batch historical valuation fetch complete: 12 total valuations for 3 funds
ReportGenerator.tsx:1669 Processing 4 activity logs for product Stocks & Shares ISA
ReportGenerator.tsx:1716 Product Stocks & Shares ISA activity totals: {totalInvestment: 300, totalWithdrawal: 40, totalSwitchIn: 0, totalSwitchOut: 0, productStartDate: '2023-01-01',Â â€¦}
ReportGenerator.tsx:1857 Fund Cash (ID: 1107) has 2 activity logs
ReportGenerator.tsx:1873 Activities for Cash: (2)Â [{â€¦}, {â€¦}]
ReportGenerator.tsx:1882 Processing activity for Cash: {activity_type: 'Withdrawal', raw_amount: 40, parsed_amount: 40, amount_check: false, amount_absolute: 40,Â â€¦}
ReportGenerator.tsx:1882 Processing activity for Cash: {activity_type: 'Investment', raw_amount: 100, parsed_amount: 100, amount_check: false, amount_absolute: 100,Â â€¦}
ReportGenerator.tsx:1931 Fund Cash activity totals: {fundInvestment: 100, fundRegularInvestment: 0, fundTaxUplift: 0, fundProductSwitchIn: 0, fundProductSwitchOut: 0,Â â€¦}
ReportGenerator.tsx:1857 Fund Artemis Income (ID: 1108) has 1 activity logs
ReportGenerator.tsx:1873 Activities for Artemis Income: [{â€¦}]
ReportGenerator.tsx:1882 Processing activity for Artemis Income: {activity_type: 'Investment', raw_amount: 100, parsed_amount: 100, amount_check: false, amount_absolute: 100,Â â€¦}
ReportGenerator.tsx:1931 Fund Artemis Income activity totals: {fundInvestment: 100, fundRegularInvestment: 0, fundTaxUplift: 0, fundProductSwitchIn: 0, fundProductSwitchOut: 0,Â â€¦}
ReportGenerator.tsx:1857 Fund Aviva BNY Multi-Asset Balanced S2 (ID: 1109) has 1 activity logs
ReportGenerator.tsx:1873 Activities for Aviva BNY Multi-Asset Balanced S2: [{â€¦}]
ReportGenerator.tsx:1882 Processing activity for Aviva BNY Multi-Asset Balanced S2: {activity_type: 'Investment', raw_amount: 100, parsed_amount: 100, amount_check: false, amount_absolute: 100,Â â€¦}
ReportGenerator.tsx:1931 Fund Aviva BNY Multi-Asset Balanced S2 activity totals: {fundInvestment: 100, fundRegularInvestment: 0, fundTaxUplift: 0, fundProductSwitchIn: 0, fundProductSwitchOut: 0,Â â€¦}
ReportGenerator.tsx:2009 Calculating standardized IRR for product 236 with fund IDs: (3)Â [1107, 1108, 1109]
irrDataService.ts:131 ğŸš€ [IRR DEBUG] Starting getOptimizedIRRData with params: {portfolioId: 249, portfolioFundIds: Array(3), endDate: undefined, includeHistorical: false}
irrDataService.ts:141 ğŸ“‹ [IRR DEBUG] Strategy 1: Checking for stored portfolio IRR
irrDataService.ts:143 ğŸ“‹ [IRR DEBUG] Portfolio ID provided: 249, fetching stored IRR...
irrDataService.ts:44 ğŸ” [IRR DEBUG] Fetching stored portfolio IRR for portfolio 249
irrDataService.ts:45 ğŸ” [IRR DEBUG] API endpoint: /api/portfolios/249/latest-irr
irrDataService.ts:49 ğŸ” [IRR DEBUG] Portfolio IRR API response: {status: 200, data: {â€¦}, hasData: true, irrResult: 48.6, irrResultType: 'number',Â â€¦}
irrDataService.ts:60 ğŸ” [IRR DEBUG] Extracted IRR result: 48.6 (type: number)
irrDataService.ts:145 ğŸ“‹ [IRR DEBUG] Stored portfolio IRR result: 48.6
irrDataService.ts:148 âœ… [IRR DEBUG] Using stored portfolio IRR: 48.6% for portfolio 249
irrDataService.ts:160 Retrieved undefined stored fund IRRs
irrDataService.ts:169 ğŸ“‹ [IRR DEBUG] Strategy 3: Checking if IRR calculation is needed
irrDataService.ts:170 ğŸ“‹ [IRR DEBUG] Calculation decision factors: {noStoredIRR: false, includeHistorical: false, hasEndDate: false, needsCalculation: undefined, portfolioFundIdsLength: 3}
irrDataService.ts:203 â­ï¸ [IRR DEBUG] Skipping IRR calculation - needsCalculation: undefined, fundIds length: 3
irrDataService.ts:213 ğŸ¯ [IRR DEBUG] Final getOptimizedIRRData result: {portfolioIRR: 48.6, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'latest'}
ReportGenerator.tsx:2063 Optimized IRR for active product 236: 48.6% (source: latest)
ReportGenerator.tsx:2327 - Total fund summaries: 3
ReportGenerator.tsx:2328 - Active funds: 2
ReportGenerator.tsx:2329 - Inactive funds: 1
ReportGenerator.tsx:2330 - All fund statuses: (3)Â [{â€¦}, {â€¦}, {â€¦}]
ReportGenerator.tsx:2096 ğŸ” Previous Funds IRR Calculation Debug:
ReportGenerator.tsx:2097 - Inactive funds count: 1
ReportGenerator.tsx:2098 - Inactive funds details: [{â€¦}]
ReportGenerator.tsx:2106 - Extracted inactive fund IDs: [1107]
ReportGenerator.tsx:2118 ğŸš€ Calculating Previous Funds IRR for fund IDs: [1107] with date: undefined
api.ts:607 ğŸ” DEBUG: api.ts calculateStandardizedMultipleFundsIRR called with: {portfolioFundIds: Array(1), irrDate: undefined}
api.ts:608 ğŸ” DEBUG: portfolioFundIds being sent to backend: [1107]
ReportGenerator.tsx:2126 ğŸ“Š Previous Funds IRR API Response: {data: {â€¦}, status: 200, statusText: 'OK', headers: AxiosHeaders, config: {â€¦},Â â€¦}
ReportGenerator.tsx:2127 ğŸ“Š Response data: {success: true, irr_percentage: -315.8, irr_decimal: -3.158324403263071, calculation_date: '2023-04-01', portfolio_fund_ids: Array(1),Â â€¦}
ReportGenerator.tsx:2131 âœ… Previous Funds IRR calculated successfully: -315.8
ReportGenerator.tsx:2147 ğŸ¯ Final Previous Funds IRR result: -315.8
ReportGenerator.tsx:2153 ğŸ” Fetching latest IRRs for individual inactive funds...
ReportGenerator.tsx:2157 âœ… Latest IRRs fetched successfully: [{â€¦}]
ReportGenerator.tsx:2223 ğŸ¯ Using net flow weighting for Previous Funds risk
ReportGenerator.tsx:2262 ğŸ¯ Previous Funds weighted risk calculation: {totalInactiveFunds: 1, fundsWithRisk: 1, totalInvestment: 100, weightedRisk: '2.0', inactiveFundsData: Array(1)}
ReportGenerator.tsx:2303 ğŸ¯ Previous Funds aggregation details: {inactiveFundsCount: 1, totalInvestment: 100, totalRegularInvestment: 0, totalTaxUplift: 0, totalProductSwitchIn: 0,Â â€¦}
ReportGenerator.tsx:2316 ğŸ¯ Created Previous Funds entry with IRR: -315.8
ReportGenerator.tsx:2317 ğŸ¯ Created Previous Funds entry with Risk: 2
ReportGenerator.tsx:2318 ğŸ¯ Full Previous Funds entry: {id: -1, available_funds_id: -1, fund_name: 'Previous Funds', total_investment: 100, total_regular_investment: 0,Â â€¦}
ReportGenerator.tsx:1478 Product Stocks & Shares ISA has 2 portfolio funds: (2)Â [{â€¦}, {â€¦}]
ReportGenerator.tsx:1514 Fetching activity logs for 2 portfolio funds: (2)Â [1110, 1111]
ReportGenerator.tsx:1521 Retrieved 3 total activity logs for product Stocks & Shares ISA
ReportGenerator.tsx:1522 Sample activities: (3)Â [{â€¦}, {â€¦}, {â€¦}]
valuationDataService.ts:145 ğŸš€ Batch fetching ALL historical valuations for 2 funds (eliminates 2 individual requests)
valuationDataService.ts:164 âœ… Batch historical valuation fetch complete: 6 total valuations for 2 funds
ReportGenerator.tsx:1669 Processing 3 activity logs for product Stocks & Shares ISA
ReportGenerator.tsx:1716 Product Stocks & Shares ISA activity totals: {totalInvestment: 320, totalWithdrawal: 0, totalSwitchIn: 0, totalSwitchOut: 0, productStartDate: '2022-08-01',Â â€¦}
ReportGenerator.tsx:1857 Fund Cash (ID: 1110) has 1 activity logs
ReportGenerator.tsx:1873 Activities for Cash: [{â€¦}]
ReportGenerator.tsx:1882 Processing activity for Cash: {activity_type: 'RegularInvestment', raw_amount: 20, parsed_amount: 20, amount_check: false, amount_absolute: 20,Â â€¦}
ReportGenerator.tsx:1931 Fund Cash activity totals: {fundInvestment: 20, fundRegularInvestment: 0, fundTaxUplift: 0, fundProductSwitchIn: 0, fundProductSwitchOut: 0,Â â€¦}
ReportGenerator.tsx:1857 Fund Artemis Income (ID: 1111) has 2 activity logs
ReportGenerator.tsx:1873 Activities for Artemis Income: (2)Â [{â€¦}, {â€¦}]
ReportGenerator.tsx:1882 Processing activity for Artemis Income: {activity_type: 'Investment', raw_amount: 200, parsed_amount: 200, amount_check: false, amount_absolute: 200,Â â€¦}
ReportGenerator.tsx:1882 Processing activity for Artemis Income: {activity_type: 'Investment', raw_amount: 100, parsed_amount: 100, amount_check: false, amount_absolute: 100,Â â€¦}
ReportGenerator.tsx:1931 Fund Artemis Income activity totals: {fundInvestment: 300, fundRegularInvestment: 0, fundTaxUplift: 0, fundProductSwitchIn: 0, fundProductSwitchOut: 0,Â â€¦}
ReportGenerator.tsx:2009 Calculating standardized IRR for product 237 with fund IDs: (2)Â [1110, 1111]
irrDataService.ts:131 ğŸš€ [IRR DEBUG] Starting getOptimizedIRRData with params: {portfolioId: 250, portfolioFundIds: Array(2), endDate: undefined, includeHistorical: false}
irrDataService.ts:141 ğŸ“‹ [IRR DEBUG] Strategy 1: Checking for stored portfolio IRR
irrDataService.ts:143 ğŸ“‹ [IRR DEBUG] Portfolio ID provided: 250, fetching stored IRR...
irrDataService.ts:44 ğŸ” [IRR DEBUG] Fetching stored portfolio IRR for portfolio 250
irrDataService.ts:45 ğŸ” [IRR DEBUG] API endpoint: /api/portfolios/250/latest-irr
irrDataService.ts:49 ğŸ” [IRR DEBUG] Portfolio IRR API response: {status: 200, data: {â€¦}, hasData: true, irrResult: -316.1, irrResultType: 'number',Â â€¦}
irrDataService.ts:60 ğŸ” [IRR DEBUG] Extracted IRR result: -316.1 (type: number)
irrDataService.ts:145 ğŸ“‹ [IRR DEBUG] Stored portfolio IRR result: -316.1
irrDataService.ts:148 âœ… [IRR DEBUG] Using stored portfolio IRR: -316.1% for portfolio 250
 Retrieved undefined stored fund IRRs
 ğŸ“‹ [IRR DEBUG] Strategy 3: Checking if IRR calculation is needed
 ğŸ“‹ [IRR DEBUG] Calculation decision factors: {noStoredIRR: false, includeHistorical: false, hasEndDate: false, needsCalculation: undefined, portfolioFundIdsLength: 2}
 â­ï¸ [IRR DEBUG] Skipping IRR calculation - needsCalculation: undefined, fundIds length: 2
 ğŸ¯ [IRR DEBUG] Final getOptimizedIRRData result: {portfolioIRR: -316.1, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'latest'}
 Optimized IRR for active product 237: -316.1% (source: latest)
 - Total fund summaries: 2
 - Active funds: 2
 - Inactive funds: 0
 - All fund statuses: (2)Â [{â€¦}, {â€¦}]
 Total portfolio fund IDs collected for IRR calculation: {total: 5, unique: 5, duplicatesRemoved: 0}
 Calculating standardized IRR for portfolio fund IDs: (5)Â [1107, 1108, 1109, 1110, 1111]
 Using optimized batch IRR service for total IRR: {portfolioFundIds: Array(5), irrDate: undefined}
 ğŸš€ [IRR DEBUG] Starting getOptimizedIRRData with params: {portfolioFundIds: Array(5), endDate: undefined, includeHistorical: false}
 ğŸ“‹ [IRR DEBUG] Strategy 1: Checking for stored portfolio IRR
 âš ï¸ [IRR DEBUG] No portfolio ID provided, skipping stored portfolio IRR lookup
 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
irrDataService.ts:160 Retrieved undefined stored fund IRRs
irrDataService.ts:169 ğŸ“‹ [IRR DEBUG] Strategy 3: Checking if IRR calculation is needed
irrDataService.ts:170 ğŸ“‹ [IRR DEBUG] Calculation decision factors: {noStoredIRR: true, includeHistorical: false, hasEndDate: false, needsCalculation: true, portfolioFundIdsLength: 5}
irrDataService.ts:179 ğŸ”„ [IRR DEBUG] Calculating IRR due to: {noStoredIRR: true, includeHistorical: false, hasEndDate: false}
irrDataService.ts:95 ğŸ”„ [IRR DEBUG] Calculating IRR using standardized endpoint: {portfolioFundIds: Array(5), endDate: undefined}
irrDataService.ts:96 ğŸ” DEBUG: irrDataService portfolioFundIds being sent: (5)Â [1107, 1108, 1109, 1110, 1111]
api.ts:607 ğŸ” DEBUG: api.ts calculateStandardizedMultipleFundsIRR called with: {portfolioFundIds: Array(5), irrDate: undefined}
api.ts:608 ğŸ” DEBUG: portfolioFundIds being sent to backend: (5)Â [1107, 1108, 1109, 1110, 1111]
irrDataService.ts:106 ğŸ”„ [IRR DEBUG] Raw API response from calculateStandardizedMultipleFundsIRR: {success: true, irr_percentage: -62.3, irr_decimal: -0.6229311758554119, calculation_date: '2023-04-01', portfolio_fund_ids: Array(5),Â â€¦}
irrDataService.ts:118 ğŸ”„ [IRR DEBUG] Extracted IRR result: -62.3
irrDataService.ts:190 ğŸ”„ [IRR DEBUG] Calculated IRR result: -62.3
irrDataService.ts:195 âœ… [IRR DEBUG] Using calculated IRR as portfolio IRR: -62.3
irrDataService.ts:213 ğŸ¯ [IRR DEBUG] Final getOptimizedIRRData result: {portfolioIRR: -62.3, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'calculated'}
ReportGenerator.tsx:2495 ğŸ¯ [TOTAL IRR DEBUG] Optimized total IRR response: {portfolioIRR: -62.3, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'calculated'}
ReportGenerator.tsx:2496 ğŸ¯ [TOTAL IRR DEBUG] portfolioIRR field: -62.3
ReportGenerator.tsx:2497 ğŸ¯ [TOTAL IRR DEBUG] portfolioIRR type: number
ReportGenerator.tsx:2501 âœ… [TOTAL IRR DEBUG] Optimized total IRR calculation complete: -62.3
ReportGenerator.tsx:2568 ğŸ” [PRODUCT OWNER ORDER DEBUG] Current productOwnerOrder state: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:2569 ğŸ” [PRODUCT OWNER ORDER DEBUG] productOwnerOrder length: 2
ReportGenerator.tsx:433 ğŸ” [EXTRACT OWNERS DEBUG] Starting extraction for 2 products
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 1: {id: 236, name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 236
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 63, firstname: 'Andrew', surname: 'Plumb', known_as: 'Andrew'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Andrew', surname: 'Plumb', knownAs: 'Andrew'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Andrew Plumb
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Andrew Plumb
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Andrew Plumb
ReportGenerator.tsx:436 ğŸ” [EXTRACT OWNERS DEBUG] Product 2: {id: 237, name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_array: Array(1), product_owners_count: 1}
ReportGenerator.tsx:449 ğŸ” [EXTRACT OWNERS DEBUG] Using Method 2 (product_owners array) for product 237
ReportGenerator.tsx:451 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Owner 1: {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:20 ğŸ” [PRODUCT OWNER UTILS DEBUG] Input owner (formal): {id: 43, firstname: 'Gabriella', surname: 'Cuba', known_as: 'Ella'}
productOwnerUtils.ts:31 ğŸ” [PRODUCT OWNER UTILS DEBUG] Processed fields (formal): {firstname: 'Gabriella', surname: 'Cuba', knownAs: 'Ella'}
productOwnerUtils.ts:40 ğŸ” [PRODUCT OWNER UTILS DEBUG] Using Priority 1 (firstname + surname): Gabriella Cuba
ReportGenerator.tsx:460 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - getProductOwnerFormalDisplayName result: Gabriella Cuba
ReportGenerator.tsx:463 ğŸ” [EXTRACT OWNERS DEBUG] Method 2 - Adding name: Gabriella Cuba
ReportGenerator.tsx:482 ğŸ” [EXTRACT OWNERS DEBUG] Final result: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportGenerator.tsx:2577 ğŸ” [PRODUCT OWNER DEBUG - FINAL] Using extractProductOwners with known_as support: (2)Â ['Andrew Plumb', 'Gabriella Cuba']
ReportDisplayPage.tsx:54 ğŸ” [REPORT DISPLAY DEBUG] Initializing report data...
ReportDisplayPage.tsx:64 ğŸ” [REPORT DISPLAY DEBUG] Received report data with 2 products
ReportDisplayPage.tsx:81 ğŸ¯ [OPTIMIZATION] Using pre-fetched portfolio IRR values from reportData: {236: 48.6, 237: -316.1}
IRRCalculationService.ts:603 Using pre-selected historical IRR dates from report generation
IRRCalculationService.ts:603 Selected dates: {236: Array(2), 237: Array(3)}
IRRCalculationService.ts:603 Available dates: (5)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRCalculationService.ts:603 ğŸ”„ [DATA CONSISTENCY] Forcing fresh historical IRR data fetch to match summary table data
IRRCalculationService.ts:603 âš ï¸ No pre-fetched historical IRR data available, falling back to API calls
IRRCalculationService.ts:603 Product 236 (Stocks & Shares ISA) selected dates: (2)Â ['2023-02-01', '2023-01-01']
IRRCalculationService.ts:603 Product 237 (Stocks & Shares ISA) selected dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
ReportContainer.tsx:142 ğŸ” [REPORT CONTAINER DEBUG] productOwnerDisplay calculation: {customProductOwnerNames: null, reportDataProductOwnerNames: Array(2), reportDataProductOwnerNamesLength: 2}
ReportContainer.tsx:162 ğŸ” [REPORT CONTAINER DEBUG] Final display result: Andrew Plumb & Gabriella Cuba
ReportContainer.tsx:142 ğŸ” [REPORT CONTAINER DEBUG] productOwnerDisplay calculation: {customProductOwnerNames: null, reportDataProductOwnerNames: Array(2), reportDataProductOwnerNamesLength: 2}
ReportContainer.tsx:162 ğŸ” [REPORT CONTAINER DEBUG] Final display result: Andrew Plumb & Gabriella Cuba
SummaryTab.tsx:103 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
SummaryTab.tsx:111 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ¯ [IRR HISTORY] Using actual user-selected dates: (3)Â ['2022-08-01', '2023-01-01', '2023-02-01']
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 âš ï¸ [Previous Funds] No valid dates for product 236 - skipping Previous Funds IRR calculation for existing entry
 ğŸ¯ [IRR HISTORY] Using actual user-selected dates: (3)Â ['2022-08-01', '2023-01-01', '2023-02-01']
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 âš ï¸ [Previous Funds] No valid dates for product 236 - skipping Previous Funds IRR calculation for existing entry
 ğŸ¯ [IRR SUMMARY MEMOIZATION] ProductIds memoized: {rawLength: 2, memoizedLength: 2, sameReference: true}
 ğŸ¯ [IRR SUMMARY MEMOIZATION] SelectedDates memoized: {rawLength: 3, memoizedLength: 3, sameReference: true}
 ğŸ”„ [IRR SUMMARY TABLE] useEffect triggered: {productIdsLength: 2, selectedDatesLength: 3, clientGroupIds: undefined, productIds: Array(2), selectedDates: Array(2)}
 ğŸ” [IRR SUMMARY TABLE] Request details: {productIds: Array(2), uniqueProductIds: Array(2), selectedDates: Array(3), clientGroupIds: undefined}
 ğŸ” [IRR HISTORY SUMMARY] Fetching data with request: {product_ids: Array(2), selected_dates: Array(3), client_group_ids: undefined}
 ğŸ” [IRR HISTORY SUMMARY] Fetching data with request: {product_ids: Array(2), selected_dates: Array(3), client_group_ids: undefined}
 ğŸ” [GLOBAL IRR REQUEST MANAGER] Processing request: irr_summary_236,237_2022-08-01,2023-01-01,2023-02-01_none
 âœ… [GLOBAL IRR REQUEST MANAGER] Using cached data for: irr_summary_236,237_2022-08-01,2023-01-01,2023-02-01_none
 ğŸ”„ [Validation] Computing validated dates for 2 products
 âœ… [Validation] Product 236 has 2 valid dates: (2)Â ['2023-02-01', '2023-01-01']
 âœ… [Validation] Product 237 has 3 valid dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ” [IRR HISTORY DEBUG] Component loaded with: {hasReportData: true, productCount: 2, hasIrrHistoryData: true, irrHistoryDataLength: 2, loadingState: {â€¦},Â â€¦}
 ğŸ”§ [MEMOIZATION DEBUG] ProductIds changed: (2)Â [236, 237]
 ğŸ”§ [MEMOIZATION DEBUG] SelectedDates changed: (3)Â ['2022-08-01', '2023-01-01', '2023-02-01']
 ğŸ”„ [Previous Funds] useEffect triggered {hasIrrHistoryData: true, irrHistoryDataLength: 2, hasProductSummaries: true, productSummariesLength: 2}
 ğŸ”„ [Previous Funds] Starting calculation with 3 dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] Using pre-computed validated dates for products: []
 ğŸ” [Previous Funds] Analyzing product 236: {productName: 'Stocks & Shares ISA', totalFunds: 3, fundDetails: Array(3)}
 ğŸ” [Previous Funds] Product 236 - Historical/Previous Funds check: {foundHistoricalFunds: 1, historicalFundsDetails: Array(1)}
 ğŸ” [Previous Funds] Product 236 - ALL FUNDS CHECK: {totalFunds: 3, allFundNames: Array(3), historicalFundsInAll: Array(0), previousFundsInAll: Array(1)}
 ğŸ” [Previous Funds] Product 236 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 236 historical funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 total dynamic funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 - Found virtual Previous/Historical Funds with stored inactive funds: {virtualFund: {â€¦}, inactiveFunds: Array(1), actualInactiveFundIds: Array(1)}
 ğŸ” [Previous Funds] Product 236 extracted fund IDs: {originalCount: 1, extractedIds: Array(1), filteredCount: 1}
 ğŸ” [Previous Funds] Analyzing product 237: {productName: 'Stocks & Shares ISA', totalFunds: 2, fundDetails: Array(2)}
 ğŸ” [Previous Funds] Product 237 - Historical/Previous Funds check: {foundHistoricalFunds: 0, historicalFundsDetails: Array(0)}
 ğŸ” [Previous Funds] Product 237 - ALL FUNDS CHECK: {totalFunds: 2, allFundNames: Array(2), historicalFundsInAll: Array(0), previousFundsInAll: Array(0)}
 ğŸ” [Previous Funds] Product 237 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 historical funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 total dynamic funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Final analysis: {totalProductsAnalyzed: 2, productsWithDynamicFunds: 1, dynamicFundDetails: Array(1)}
 ğŸ”„ [Previous Funds] Starting IRR calculations for 1 products
 âš ï¸ [Previous Funds] Skipping product 236 - no valid dates with main product valuation data
 ğŸ” [Previous Funds] Final state update: {newDataSize: 0, completedProductsCount: 0, completedProducts: Array(0), allCalculatedData: Array(0)}
 âš ï¸ [Previous Funds] No data to update - newPreviousFundsIRRData is empty
 ğŸ¯ [IRR SUMMARY MEMOIZATION] ProductIds memoized: {rawLength: 2, memoizedLength: 2, sameReference: true}
 ğŸ¯ [IRR SUMMARY MEMOIZATION] SelectedDates memoized: {rawLength: 3, memoizedLength: 3, sameReference: true}
 ğŸ”„ [IRR SUMMARY TABLE] useEffect triggered: {productIdsLength: 2, selectedDatesLength: 3, clientGroupIds: undefined, productIds: Array(2), selectedDates: Array(2)}
 ğŸ” [IRR SUMMARY TABLE] Request details: {productIds: Array(2), uniqueProductIds: Array(2), selectedDates: Array(3), clientGroupIds: undefined}
 ğŸ” [IRR HISTORY SUMMARY] Fetching data with request: {product_ids: Array(2), selected_dates: Array(3), client_group_ids: undefined}
 ğŸ” [IRR HISTORY SUMMARY] Fetching data with request: {product_ids: Array(2), selected_dates: Array(3), client_group_ids: undefined}
 ğŸ” [GLOBAL IRR REQUEST MANAGER] Processing request: irr_summary_236,237_2022-08-01,2023-01-01,2023-02-01_none
 âœ… [GLOBAL IRR REQUEST MANAGER] Using cached data for: irr_summary_236,237_2022-08-01,2023-01-01,2023-02-01_none
 ğŸ”„ [Validation] Computing validated dates for 2 products
 âœ… [Validation] Product 236 has 2 valid dates: (2)Â ['2023-02-01', '2023-01-01']
 âœ… [Validation] Product 237 has 3 valid dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ” [IRR HISTORY DEBUG] Component loaded with: {hasReportData: true, productCount: 2, hasIrrHistoryData: true, irrHistoryDataLength: 2, loadingState: {â€¦},Â â€¦}
 ğŸ”§ [MEMOIZATION DEBUG] ProductIds changed: (2)Â [236, 237]
 ğŸ”§ [MEMOIZATION DEBUG] SelectedDates changed: (3)Â ['2022-08-01', '2023-01-01', '2023-02-01']
 ğŸ”„ [Previous Funds] useEffect triggered {hasIrrHistoryData: true, irrHistoryDataLength: 2, hasProductSummaries: true, productSummariesLength: 2}
 ğŸ”„ [Previous Funds] Starting calculation with 3 dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] Using pre-computed validated dates for products: []
 ğŸ” [Previous Funds] Analyzing product 236: {productName: 'Stocks & Shares ISA', totalFunds: 3, fundDetails: Array(3)}
 ğŸ” [Previous Funds] Product 236 - Historical/Previous Funds check: {foundHistoricalFunds: 1, historicalFundsDetails: Array(1)}
 ğŸ” [Previous Funds] Product 236 - ALL FUNDS CHECK: {totalFunds: 3, allFundNames: Array(3), historicalFundsInAll: Array(0), previousFundsInAll: Array(1)}
 ğŸ” [Previous Funds] Product 236 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 236 historical funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 total dynamic funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 - Found virtual Previous/Historical Funds with stored inactive funds: {virtualFund: {â€¦}, inactiveFunds: Array(1), actualInactiveFundIds: Array(1)}
 ğŸ” [Previous Funds] Product 236 extracted fund IDs: {originalCount: 1, extractedIds: Array(1), filteredCount: 1}
 ğŸ” [Previous Funds] Analyzing product 237: {productName: 'Stocks & Shares ISA', totalFunds: 2, fundDetails: Array(2)}
 ğŸ” [Previous Funds] Product 237 - Historical/Previous Funds check: {foundHistoricalFunds: 0, historicalFundsDetails: Array(0)}
 ğŸ” [Previous Funds] Product 237 - ALL FUNDS CHECK: {totalFunds: 2, allFundNames: Array(2), historicalFundsInAll: Array(0), previousFundsInAll: Array(0)}
 ğŸ” [Previous Funds] Product 237 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 historical funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 total dynamic funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Final analysis: {totalProductsAnalyzed: 2, productsWithDynamicFunds: 1, dynamicFundDetails: Array(1)}
 ğŸ”„ [Previous Funds] Starting IRR calculations for 1 products
 âš ï¸ [Previous Funds] Skipping product 236 - no valid dates with main product valuation data
 ğŸ” [Previous Funds] Final state update: {newDataSize: 0, completedProductsCount: 0, completedProducts: Array(0), allCalculatedData: Array(0)}
 âš ï¸ [Previous Funds] No data to update - newPreviousFundsIRRData is empty
 âœ… [IRR HISTORY SUMMARY] Data fetched successfully: {success: true, data: {â€¦}}
 âœ… [IRR HISTORY SUMMARY] Data fetched successfully: {success: true, data: {â€¦}}
 ğŸ” [IRR SUMMARY TABLE] Backend response analysis: {productRowsCount: 6, portfolioTotalsCount: 3, productRowsSample: Array(3), uniqueProductIdsInResponse: Array(2), requestedProductIds: Array(2)}
 âœ… [IRR SUMMARY TABLE] Received flat rows from backend: {totalRows: 6, expectedRows: 6, structure: 'flat'}
 ğŸ” [IRR SUMMARY TABLE] Setting table data: {productRows: Array(6), portfolioTotals: Array(3), dateHeaders: Array(3)}
 ğŸ” [IRR SUMMARY TABLE] Backend response analysis: {productRowsCount: 6, portfolioTotalsCount: 3, productRowsSample: Array(3), uniqueProductIdsInResponse: Array(2), requestedProductIds: Array(2)}
 âœ… [IRR SUMMARY TABLE] Received flat rows from backend: {totalRows: 6, expectedRows: 6, structure: 'flat'}
 ğŸ” [IRR SUMMARY TABLE] Setting table data: {productRows: Array(6), portfolioTotals: Array(3), dateHeaders: Array(3)}
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ“Š Portfolio historical IRR fetched for product 236: {product_id: 236, portfolio_historical_irr: Array(4), count: 4}
 Fetched 4 historical IRR records for product 236
 Created 2 portfolio historical IRR records for product 236: (2)Â [{â€¦}, {â€¦}]
 Created data structure for product 236: {product_id: 236, product_name: 'Stocks & Shares ISA', portfolio_historical_irr: Array(2), funds_historical_irr: Array(3)}
 ğŸ“Š Portfolio historical IRR fetched for product 237: {product_id: 237, portfolio_historical_irr: Array(3), count: 3}
 Fetched 3 historical IRR records for product 237
 Created 3 portfolio historical IRR records for product 237: (3)Â [{â€¦}, {â€¦}, {â€¦}]
 Created data structure for product 237: {product_id: 237, product_name: 'Stocks & Shares ISA', portfolio_historical_irr: Array(3), funds_historical_irr: Array(2)}
 Final processed historical IRR data: (2)Â [{â€¦}, {â€¦}]
 ğŸ” [IRR HISTORY DEBUG] Processed historical IRR data: {length: 2, sample: {â€¦}}
 ğŸ¯ [REPORT DISPLAY] Calculating real-time total IRR for 4 portfolio funds: (4)Â [1108, 1109, 1111, 1110]
 ğŸ¯ [REPORT DISPLAY] Using end date for real-time IRR: undefined
 ğŸš€ [IRR DEBUG] Starting getOptimizedIRRData with params: {portfolioFundIds: Array(4), endDate: undefined, includeHistorical: false}
 ğŸ“‹ [IRR DEBUG] Strategy 1: Checking for stored portfolio IRR
 âš ï¸ [IRR DEBUG] No portfolio ID provided, skipping stored portfolio IRR lookup
 ğŸ”„ [Previous Funds] useEffect triggered {hasIrrHistoryData: true, irrHistoryDataLength: 2, hasProductSummaries: true, productSummariesLength: 2}
 ğŸ”„ [Previous Funds] Starting calculation with 3 dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] Using pre-computed validated dates for products: (2)Â [Array(2), Array(2)]
 ğŸ” [Previous Funds] Analyzing product 236: {productName: 'Stocks & Shares ISA', totalFunds: 3, fundDetails: Array(3)}
 ğŸ” [Previous Funds] Product 236 - Historical/Previous Funds check: {foundHistoricalFunds: 1, historicalFundsDetails: Array(1)}
 ğŸ” [Previous Funds] Product 236 - ALL FUNDS CHECK: {totalFunds: 3, allFundNames: Array(3), historicalFundsInAll: Array(0), previousFundsInAll: Array(1)}
 ğŸ” [Previous Funds] Product 236 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 236 historical funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 total dynamic funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 - Found virtual Previous/Historical Funds with stored inactive funds: {virtualFund: {â€¦}, inactiveFunds: Array(1), actualInactiveFundIds: Array(1)}
 ğŸ” [Previous Funds] Product 236 extracted fund IDs: {originalCount: 1, extractedIds: Array(1), filteredCount: 1}
 ğŸ” [Previous Funds] Analyzing product 237: {productName: 'Stocks & Shares ISA', totalFunds: 2, fundDetails: Array(2)}
 ğŸ” [Previous Funds] Product 237 - Historical/Previous Funds check: {foundHistoricalFunds: 0, historicalFundsDetails: Array(0)}
 ğŸ” [Previous Funds] Product 237 - ALL FUNDS CHECK: {totalFunds: 2, allFundNames: Array(2), historicalFundsInAll: Array(0), previousFundsInAll: Array(0)}
 ğŸ” [Previous Funds] Product 237 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 historical funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 total dynamic funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Final analysis: {totalProductsAnalyzed: 2, productsWithDynamicFunds: 1, dynamicFundDetails: Array(1)}
 ğŸ”„ [Previous Funds] Starting IRR calculations for 1 products
 ğŸ”„ [Previous Funds] Calculating IRR for product 236 with fund IDs: [1107]
 ğŸ”„ [Previous Funds] Product 236 valid dates (2): (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
SummaryTab.tsx:103 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
SummaryTab.tsx:111 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
SummaryTab.tsx:103 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
SummaryTab.tsx:111 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
SummaryTab.tsx:103 ğŸ” [SUMMARY TAB DEBUG] Sorting ISAs (ISA/JISA) products by owner order: {productsCount: 2, productOwnerOrder: Array(2), productOwnerOrderLength: 2, productNames: Array(2), productOwnerNames: Array(2)}
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
SummaryTab.tsx:111 ğŸ” [SUMMARY TAB DEBUG] After sorting ISAs (ISA/JISA) products: {sortedProductNames: Array(2), sortedProductOwnerNames: Array(2)}
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 Retrieved undefined stored fund IRRs
 ğŸ“‹ [IRR DEBUG] Strategy 3: Checking if IRR calculation is needed
 ğŸ“‹ [IRR DEBUG] Calculation decision factors: {noStoredIRR: true, includeHistorical: false, hasEndDate: false, needsCalculation: true, portfolioFundIdsLength: 4}
 ğŸ”„ [IRR DEBUG] Calculating IRR due to: {noStoredIRR: true, includeHistorical: false, hasEndDate: false}
 ğŸ”„ [IRR DEBUG] Calculating IRR using standardized endpoint: {portfolioFundIds: Array(4), endDate: undefined}
 ğŸ” DEBUG: irrDataService portfolioFundIds being sent: (4)Â [1108, 1109, 1111, 1110]
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ”„ [Validation] Computing validated dates for 2 products
 âœ… [Validation] Product 236 has 2 valid dates: (2)Â ['2023-02-01', '2023-01-01']
 âœ… [Validation] Product 237 has 3 valid dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] useEffect triggered {hasIrrHistoryData: true, irrHistoryDataLength: 2, hasProductSummaries: true, productSummariesLength: 2}
 ğŸ”„ [Previous Funds] Starting calculation with 3 dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] Using pre-computed validated dates for products: (2)Â [Array(2), Array(2)]
 ğŸ” [Previous Funds] Analyzing product 236: {productName: 'Stocks & Shares ISA', totalFunds: 3, fundDetails: Array(3)}
 ğŸ” [Previous Funds] Product 236 - Historical/Previous Funds check: {foundHistoricalFunds: 1, historicalFundsDetails: Array(1)}
 ğŸ” [Previous Funds] Product 236 - ALL FUNDS CHECK: {totalFunds: 3, allFundNames: Array(3), historicalFundsInAll: Array(0), previousFundsInAll: Array(1)}
 ğŸ” [Previous Funds] Product 236 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 236 historical funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 total dynamic funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 - Found virtual Previous/Historical Funds with stored inactive funds: {virtualFund: {â€¦}, inactiveFunds: Array(1), actualInactiveFundIds: Array(1)}
 ğŸ” [Previous Funds] Product 236 extracted fund IDs: {originalCount: 1, extractedIds: Array(1), filteredCount: 1}
 ğŸ” [Previous Funds] Analyzing product 237: {productName: 'Stocks & Shares ISA', totalFunds: 2, fundDetails: Array(2)}
 ğŸ” [Previous Funds] Product 237 - Historical/Previous Funds check: {foundHistoricalFunds: 0, historicalFundsDetails: Array(0)}
 ğŸ” [Previous Funds] Product 237 - ALL FUNDS CHECK: {totalFunds: 2, allFundNames: Array(2), historicalFundsInAll: Array(0), previousFundsInAll: Array(0)}
 ğŸ” [Previous Funds] Product 237 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 historical funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 total dynamic funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Final analysis: {totalProductsAnalyzed: 2, productsWithDynamicFunds: 1, dynamicFundDetails: Array(1)}
 ğŸ”„ [Previous Funds] Starting IRR calculations for 1 products
 ğŸ”„ [Previous Funds] Calculating IRR for product 236 with fund IDs: [1107]
 ğŸ”„ [Previous Funds] Product 236 valid dates (2): (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds] Product 236 IRR calculation result: {mapSize: 2, dates: Array(2), values: Array(2), detailedValues: Array(2)}
 âœ… [Previous Funds] Successfully stored IRR data for product 236
 ğŸ” [Previous Funds] Final state update: {newDataSize: 1, completedProductsCount: 1, completedProducts: Array(1), allCalculatedData: Array(1)}
 âœ… [Previous Funds] State updated successfully with 1 products
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ”„ [Previous Funds] useEffect triggered {hasIrrHistoryData: true, irrHistoryDataLength: 2, hasProductSummaries: true, productSummariesLength: 2}
 ğŸ”„ [Previous Funds] Starting calculation with 3 dates: (3)Â ['2023-02-01', '2023-01-01', '2022-08-01']
 ğŸ”„ [Previous Funds] Using pre-computed validated dates for products: (2)Â [Array(2), Array(2)]
 ğŸ” [Previous Funds] Analyzing product 236: {productName: 'Stocks & Shares ISA', totalFunds: 3, fundDetails: Array(3)}
 ğŸ” [Previous Funds] Product 236 - Historical/Previous Funds check: {foundHistoricalFunds: 1, historicalFundsDetails: Array(1)}
 ğŸ” [Previous Funds] Product 236 - ALL FUNDS CHECK: {totalFunds: 3, allFundNames: Array(3), historicalFundsInAll: Array(0), previousFundsInAll: Array(1)}
 ğŸ” [Previous Funds] Product 236 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 236 historical funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 total dynamic funds: {count: 1, funds: Array(1)}
 ğŸ” [Previous Funds] Product 236 - Found virtual Previous/Historical Funds with stored inactive funds: {virtualFund: {â€¦}, inactiveFunds: Array(1), actualInactiveFundIds: Array(1)}
 ğŸ” [Previous Funds] Product 236 extracted fund IDs: {originalCount: 1, extractedIds: Array(1), filteredCount: 1}
 ğŸ” [Previous Funds] Analyzing product 237: {productName: 'Stocks & Shares ISA', totalFunds: 2, fundDetails: Array(2)}
 ğŸ” [Previous Funds] Product 237 - Historical/Previous Funds check: {foundHistoricalFunds: 0, historicalFundsDetails: Array(0)}
 ğŸ” [Previous Funds] Product 237 - ALL FUNDS CHECK: {totalFunds: 2, allFundNames: Array(2), historicalFundsInAll: Array(0), previousFundsInAll: Array(0)}
 ğŸ” [Previous Funds] Product 237 inactive funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 historical funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Product 237 total dynamic funds: {count: 0, funds: Array(0)}
 ğŸ” [Previous Funds] Final analysis: {totalProductsAnalyzed: 2, productsWithDynamicFunds: 1, dynamicFundDetails: Array(1)}
 ğŸ”„ [Previous Funds] Starting IRR calculations for 1 products
 ğŸ”„ [Previous Funds] Calculating IRR for product 236 with fund IDs: [1107]
 ğŸ”„ [Previous Funds] Product 236 valid dates (2): (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Starting calculation for 1 inactive funds: [1107]
 ğŸ” [Previous Funds IRR] Will attempt to calculate IRR for 2 dates: (2)Â ['2023-02-01', '2023-01-01']
 ğŸ” [Previous Funds IRR] Calculating for date 2023-02-01 (2023-02-01) with fund IDs: [1107]
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” DEBUG: api.ts calculateStandardizedMultipleFundsIRR called with: {portfolioFundIds: Array(4), irrDate: undefined}
 ğŸ” DEBUG: portfolioFundIds being sent to backend: (4)Â [1108, 1109, 1111, 1110]
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds] Product 236 IRR calculation result: {mapSize: 2, dates: Array(2), values: Array(2), detailedValues: Array(2)}
 âœ… [Previous Funds] Successfully stored IRR data for product 236
 ğŸ” [Previous Funds] Final state update: {newDataSize: 1, completedProductsCount: 1, completedProducts: Array(1), allCalculatedData: Array(1)}
 âœ… [Previous Funds] State updated successfully with 1 products
 ğŸ” [Previous Funds IRR] API response for 2023-02-01: {success: true, irr_percentage: -126.7, irr_decimal: -1.2668737080010097, calculation_date: '2023-02-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-02-01: -126.7%
 ğŸ” [Previous Funds IRR] Calculating for date 2023-01-01 (2023-01-01) with fund IDs: [1107]
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
IRRHistorySummaryTable.tsx:429 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
 ğŸ”„ [IRR DEBUG] Raw API response from calculateStandardizedMultipleFundsIRR: {success: true, irr_percentage: -37.8, irr_decimal: -0.37839305987553784, calculation_date: '2023-04-01', portfolio_fund_ids: Array(4),Â â€¦}
 ğŸ”„ [IRR DEBUG] Extracted IRR result: -37.8
 ğŸ”„ [IRR DEBUG] Calculated IRR result: -37.8
 âœ… [IRR DEBUG] Using calculated IRR as portfolio IRR: -37.8
 ğŸ¯ [IRR DEBUG] Final getOptimizedIRRData result: {portfolioIRR: -37.8, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'calculated'}
 ğŸ¯ [REPORT DISPLAY] Real-time total IRR response: {portfolioIRR: -37.8, fundIRRs: {â€¦}, historicalIRR: null, irrDate: 'calculated'}
 ğŸ¯ [REPORT DISPLAY] Set real-time total IRR: -37.8%
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds IRR] API response for 2023-01-01: {success: true, irr_percentage: -120, irr_decimal: -1.200000000000001, calculation_date: '2023-01-01', portfolio_fund_ids: Array(1)}
 âœ… [Previous Funds IRR] Successfully calculated IRR for 2023-01-01: -120%
 ğŸ” [Previous Funds] Product 236 IRR calculation result: {mapSize: 2, dates: Array(2), values: Array(2), detailedValues: Array(2)}
 âœ… [Previous Funds] Successfully stored IRR data for product 236
 ğŸ” [Previous Funds] Final state update: {newDataSize: 1, completedProductsCount: 1, completedProducts: Array(1), allCalculatedData: Array(1)}
 âœ… [Previous Funds] State updated successfully with 1 products
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14630
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [IRR HISTORY DEBUG] Chart data processing: {chartDataLength: 3, chartDataSample: {â€¦}, productsForChartLength: 2}
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [PRODUCT IRR DEBUG] Product 237 - Raw historical IRR data: {productId: 237, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 3, rawRecords: Array(3),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2023-01-01: -367.1% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 237 storing IRR for date 2022-08-01: -120% (from portfolio_historical_irr table)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2023-01-01: -367.1% (formatted: -367.1%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 237 displaying IRR for date 2022-08-01: -120% (formatted: -120.0%)
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
 ğŸ” [PRODUCT IRR DEBUG] Product 236 - Raw historical IRR data: {productId: 236, selectedDatesFromReport: Array(2), normalizedSelectedDates: Array(2), rawRecordCount: 2, rawRecords: Array(2),Â â€¦}
 ğŸ” [INDIVIDUAL CARD DEBUG] Product 236 storing IRR for date 2023-01-01: 40% (from portfolio_historical_irr table)
 âš ï¸ [DATE MISMATCH WARNING] Product 236 selected dates not found in database: {missingSelectedDates: Array(1), availableDatesInDatabase: Array(2), selectedDatesFromReport: Array(2), availableButNotSelected: Array(1), suggestion: 'Consider using these available dates: 2023-02-01'}
(anonymous) @ IRRHistoryTab.tsx:2053
(anonymous) @ IRRHistoryTab.tsx:2112
(anonymous) @ IRRHistoryTab.tsx:1496
IRRHistoryTab @ IRRHistoryTab.tsx:2150
renderWithHooks @ chunk-QYFCA5BS.js:11596
updateFunctionComponent @ chunk-QYFCA5BS.js:14635
beginWork @ chunk-QYFCA5BS.js:15972
beginWork$1 @ chunk-QYFCA5BS.js:19806
performUnitOfWork @ chunk-QYFCA5BS.js:19251
workLoopSync @ chunk-QYFCA5BS.js:19190
renderRootSync @ chunk-QYFCA5BS.js:19169
performConcurrentWorkOnRoot @ chunk-QYFCA5BS.js:18728
workLoop @ chunk-QYFCA5BS.js:197
flushWork @ chunk-QYFCA5BS.js:176
performWorkUntilDeadline @ chunk-QYFCA5BS.js:384
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2023-01-01: 40% (formatted: 40.0%)
 ğŸ” [INDIVIDUAL CARD DISPLAY] Product 236 displaying IRR for date 2022-08-01: undefined% (formatted: -)
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
IRRHistorySummaryTable.tsx:429 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 237, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 237, product_name: 'Stocks & Shares ISA', provider_name: 'Aviva', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 237, product_name: 'Stocks & Shares ISA', product_owner_name: 'Gabriella Cuba', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Gabriella Cuba
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Gabriella
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Gabriella
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Aviva - ISA - Gabriella
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-02-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: -316.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-02-01: -316.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2023-01-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: -367.1, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2023-01-01: -367.1
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 237, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 237, date 2022-08-01: {product_id: 237, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: -120, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 237, date 2022-08-01: -120
productTitleUtils.ts:184 ğŸ” [PRODUCT TITLE DEBUG] generateEffectiveProductTitle called for product: {id: 236, customTitlesSize: 0, hasCustomTitle: false}
productTitleUtils.ts:197 ğŸ” [PRODUCT TITLE DEBUG] No custom title, generating default...
productTitleUtils.ts:139 ğŸ” [PRODUCT TITLE DEBUG] generateDefaultProductTitle called for product: {id: 236, product_name: 'Stocks & Shares ISA', provider_name: 'Calculus Capital', omitOwner: false}
productTitleUtils.ts:162 ğŸ” [PRODUCT TITLE DEBUG] About to extract owner nickname...
productTitleUtils.ts:36 ğŸ” [PRODUCT TITLE DEBUG] extractProductOwnerNickname called for product: {id: 236, product_name: 'Stocks & Shares ISA', product_owner_name: 'Andrew Plumb', product_owners_count: 0}
productTitleUtils.ts:77 ğŸ” [PRODUCT TITLE DEBUG] Using fallback product_owner_name string: Andrew Plumb
productTitleUtils.ts:88 ğŸ” [PRODUCT TITLE DEBUG] Using first part of name string: Andrew
productTitleUtils.ts:164 ğŸ” [PRODUCT TITLE DEBUG] Extracted owner nickname: Andrew
productTitleUtils.ts:172 ğŸ” [PRODUCT TITLE DEBUG] Final title: Calculus Capital - ISA - Andrew
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-02-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-02-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-02-01', irr_result: 58.6, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-02-01: 58.6
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2023-01-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2023-01-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2023-01-01', irr_result: 40, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2023-01-01: 40
IRRHistorySummaryTable.tsx:326 ğŸ” [IRR SUMMARY DEBUG] Looking for productId: 236, date: 2022-08-01
IRRHistorySummaryTable.tsx:327 ğŸ” [IRR SUMMARY DEBUG] Available productRows: (6)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
IRRHistorySummaryTable.tsx:338 ğŸ” [IRR SUMMARY DEBUG] Found row for productId 236, date 2022-08-01: {product_id: 236, product_name: 'Stocks & Shares ISA', irr_date: '2022-08-01', irr_result: null, portfolio_id: undefined}
IRRHistorySummaryTable.tsx:347 ğŸ” [IRR SUMMARY DEBUG] Returning IRR for productId 236, date 2022-08-01: null
IRRHistorySummaryTable.tsx:429 ğŸ¯ [CLIENT GROUP RISK] Calculated client group weight risk: {productCount: 2, totalValue: 445, weightedRiskSum: 1750, calculatedRisk: '3.9', productBreakdown: Array(2)}
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-02-01: -125.4% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2023-01-01: -184.3% (calculated from portfolios with valuations)
IRRHistorySummaryTable.tsx:385 ğŸ“Š [IRR SUMMARY] Using backend IRR for date 2022-08-01: -120% (calculated from portfolios with valuations)

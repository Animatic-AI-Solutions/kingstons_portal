2025-08-28 17:48:49,087 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,088 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:48:49,089 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,090 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=12 fund_name='RL Sustainable World Trust' isin_number='GB00B882H241' risk_factor=5 fund_cost=Decimal('0.87') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,090 - app.api.routes.available_portfolios - INFO - Successfully processed fund 6: {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,092 - app.api.routes.available_portfolios - INFO - Processing fund 7 of 11
2025-08-28 17:48:49,092 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 652, 'template_portfolio_generation_id': 48, 'fund_id': 13, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,093 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,094 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,095 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:48:49,095 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,097 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=13 fund_name='Stewart Investors Worldwide Leaders ' isin_number='GB0030978729' risk_factor=5 fund_cost=Decimal('0.61') status='active' created_at=datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,097 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,098 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:48:49,098 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,099 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,099 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,100 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:48:49,100 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,101 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,102 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,103 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:48:49,110 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,111 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,114 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:48:49,116 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:48:49,116 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,118 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,118 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,119 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:48:49,119 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,120 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,121 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,121 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:48:49,122 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,128 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:48:49,128 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:48:49,129 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,130 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:48:49,130 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
2025-08-28 17:48:49,133 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,133 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,134 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:48:49,139 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:48:49,139 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
2025-08-28 17:48:49,215 - app.api.routes.available_portfolios - INFO - === Request Information ===
2025-08-28 17:48:49,219 - app.api.routes.available_portfolios - INFO - Method: GET
2025-08-28 17:48:49,221 - app.api.routes.available_portfolios - INFO - URL: http://localhost:8001/api/available_portfolios/32
2025-08-28 17:48:49,223 - app.api.routes.available_portfolios - INFO - Headers: {'host': 'localhost:8001', 'connection': 'close', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'accept': 'application/json, text/plain, */*', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/definitions/portfolio-templates/32', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8', 'cookie': 'session_id=46fcc7f0-b8ec-4c7f-a773-8ca54d0d4763; access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwiZXhwIjoxNzU2NDczMzA0fQ.raZ_zOK6hOqvaEu21uZfJ_bhcigBe2zjUVhqYzvYfms'}
2025-08-28 17:48:49,223 - app.api.routes.available_portfolios - INFO - Portfolio ID: 32
2025-08-28 17:48:49,223 - app.api.routes.available_portfolios - INFO - Generation ID: None
2025-08-28 17:48:49,224 - app.api.routes.available_portfolios - INFO - Client Host: 127.0.0.1
2025-08-28 17:48:49,224 - app.api.routes.available_portfolios - INFO - Fetching portfolio with ID: 32
2025-08-28 17:48:49,227 - app.api.routes.available_portfolios - INFO - Portfolio response data: <Record id=32 created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc) name='Medium Plus'>
2025-08-28 17:48:49,229 - app.api.routes.available_portfolios - INFO - Portfolio response type: <class 'asyncpg.Record'>
2025-08-28 17:48:49,230 - app.api.routes.available_portfolios - INFO - Found portfolio: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus'}
2025-08-28 17:48:49,231 - app.api.routes.available_portfolios - INFO - Fetching latest generation for portfolio ID: 32
2025-08-28 17:48:49,234 - app.api.routes.available_portfolios - INFO - Generation response data: <Record id=48 available_portfolio_id=32 version_number=None generation_name='Medium Plus - November 2024' description='November 2024' status='active' created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc) updated_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,234 - app.api.routes.available_portfolios - INFO - Using generation: {'id': 48, 'available_portfolio_id': 32, 'version_number': None, 'generation_name': 'Medium Plus - November 2024', 'description': 'November 2024', 'status': 'active', 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,238 - app.api.routes.available_portfolios - INFO - Fetching funds for generation ID: 48
2025-08-28 17:48:49,241 - app.api.routes.available_portfolios - INFO - Portfolio funds response data: [<Record id=646 template_portfolio_generation_id=48 fund_id=5 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)>, <Record id=647 template_portfolio_generation_id=48 fund_id=8 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)>, <Record id=648 template_portfolio_generation_id=48 fund_id=9 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)>, <Record id=649 template_portfolio_generation_id=48 fund_id=10 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)>, <Record id=650 template_portfolio_generation_id=48 fund_id=11 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)>, <Record id=651 template_portfolio_generation_id=48 fund_id=12 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)>, <Record id=652 template_portfolio_generation_id=48 fund_id=13 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)>, <Record id=653 template_portfolio_generation_id=48 fund_id=37 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)>, <Record id=654 template_portfolio_generation_id=48 fund_id=69 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)>, <Record id=655 template_portfolio_generation_id=48 fund_id=68 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)>, <Record id=656 template_portfolio_generation_id=48 fund_id=75 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)>]
2025-08-28 17:48:49,244 - app.api.routes.available_portfolios - INFO - Number of funds found: 11
2025-08-28 17:48:49,248 - app.api.routes.available_portfolios - INFO - Processing fund 1 of 11
2025-08-28 17:48:49,249 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 646, 'template_portfolio_generation_id': 48, 'fund_id': 5, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,252 - app.api.routes.available_portfolios - INFO - Fetching products linked to portfolio template 32
2025-08-28 17:48:49,254 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=5 fund_name='Cash' isin_number='N/A' risk_factor=2 fund_cost=Decimal('0.00') status='active' created_at=datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,254 - app.api.routes.available_portfolios - INFO - Successfully processed fund 1: {'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,255 - app.api.routes.available_portfolios - INFO - Processing fund 2 of 11
2025-08-28 17:48:49,255 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 647, 'template_portfolio_generation_id': 48, 'fund_id': 8, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,256 - app.api.routes.available_portfolios - INFO - Found 1 generations for template 32
2025-08-28 17:48:49,257 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=8 fund_name='BNY Mellon Global Income' isin_number='GB00B7S9KM94' risk_factor=5 fund_cost=Decimal('0.94') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,259 - app.api.routes.available_portfolios - INFO - Successfully processed fund 2: {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,260 - app.api.routes.available_portfolios - INFO - Processing fund 3 of 11
2025-08-28 17:48:49,261 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 648, 'template_portfolio_generation_id': 48, 'fund_id': 9, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,270 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=9 fund_name='BNY Mellon Multi-Asset Balanced' isin_number='GB00B86LX253' risk_factor=4 fund_cost=Decimal('0.75') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,278 - app.api.routes.available_portfolios - INFO - Successfully processed fund 3: {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,313 - app.api.routes.available_portfolios - INFO - Processing fund 4 of 11
2025-08-28 17:48:49,313 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 649, 'template_portfolio_generation_id': 48, 'fund_id': 10, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,318 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=10 fund_name='Fidelity UK Smaller Companies' isin_number='GB00B7VNMB18' risk_factor=5 fund_cost=Decimal('1.19') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,328 - app.api.routes.available_portfolios - INFO - Successfully processed fund 4: {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,337 - app.api.routes.available_portfolios - INFO - Processing fund 5 of 11
2025-08-28 17:48:49,337 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 650, 'template_portfolio_generation_id': 48, 'fund_id': 11, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,340 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=11 fund_name='FTF Martin Currie UK Rising Dividends' isin_number='GB00B5MJ5601' risk_factor=4 fund_cost=Decimal('0.57') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,340 - app.api.routes.available_portfolios - INFO - Successfully processed fund 5: {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,340 - app.api.routes.available_portfolios - INFO - Processing fund 6 of 11
2025-08-28 17:48:49,340 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 651, 'template_portfolio_generation_id': 48, 'fund_id': 12, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,343 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=12 fund_name='RL Sustainable World Trust' isin_number='GB00B882H241' risk_factor=5 fund_cost=Decimal('0.87') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,344 - app.api.routes.available_portfolios - INFO - Successfully processed fund 6: {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,344 - app.api.routes.available_portfolios - INFO - Processing fund 7 of 11
2025-08-28 17:48:49,344 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 652, 'template_portfolio_generation_id': 48, 'fund_id': 13, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,346 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=13 fund_name='Stewart Investors Worldwide Leaders ' isin_number='GB0030978729' risk_factor=5 fund_cost=Decimal('0.61') status='active' created_at=datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,346 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,347 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:48:49,347 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,350 - app.api.routes.available_portfolios - ERROR - Error fetching products linked to template 32: column "product_id" does not exist
2025-08-28 17:48:49,352 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,353 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,353 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:48:49,354 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,356 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,356 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,356 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:48:49,357 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,359 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,359 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:48:49,359 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:48:49,359 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:48:49,361 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:48:49,361 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:48:49,363 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:48:49,368 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:48:49,369 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
2025-08-28 17:49:22,611 - app.api.routes.available_providers - INFO - Fetching available providers with skip=0, limit=100
2025-08-28 17:49:22,614 - app.api.routes.available_providers - INFO - Query returned 19 providers
2025-08-28 17:49:22,880 - app.api.routes.auth - INFO - Authentication attempt - Cookie Token: True, Header Token: False, Session: True
2025-08-28 17:49:22,968 - app.api.routes.auth - INFO - User authenticated via cookie token: 3
2025-08-28 17:49:22,984 - app.api.routes.auth - INFO - Authentication attempt - Cookie Token: True, Header Token: False, Session: True
2025-08-28 17:49:22,988 - app.api.routes.auth - INFO - User authenticated via cookie token: 3
2025-08-28 17:49:23,045 - app.api.routes.available_portfolios - INFO - === Request Information ===
2025-08-28 17:49:23,045 - app.api.routes.available_portfolios - INFO - Method: GET
2025-08-28 17:49:23,045 - app.api.routes.available_portfolios - INFO - URL: http://localhost:8001/api/available_portfolios/32
2025-08-28 17:49:23,046 - app.api.routes.available_portfolios - INFO - Headers: {'host': 'localhost:8001', 'connection': 'close', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'accept': 'application/json, text/plain, */*', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/definitions/portfolio-templates/32', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8', 'cookie': 'session_id=46fcc7f0-b8ec-4c7f-a773-8ca54d0d4763; access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwiZXhwIjoxNzU2NDczMzA0fQ.raZ_zOK6hOqvaEu21uZfJ_bhcigBe2zjUVhqYzvYfms'}
2025-08-28 17:49:23,046 - app.api.routes.available_portfolios - INFO - Portfolio ID: 32
2025-08-28 17:49:23,046 - app.api.routes.available_portfolios - INFO - Generation ID: None
2025-08-28 17:49:23,047 - app.api.routes.available_portfolios - INFO - Client Host: 127.0.0.1
2025-08-28 17:49:23,047 - app.api.routes.available_portfolios - INFO - Fetching portfolio with ID: 32
2025-08-28 17:49:23,048 - app.api.routes.available_portfolios - INFO - Fetching products linked to portfolio template 32
2025-08-28 17:49:23,049 - app.api.routes.available_portfolios - INFO - Portfolio response data: <Record id=32 created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc) name='Medium Plus'>
2025-08-28 17:49:23,050 - app.api.routes.available_portfolios - INFO - Portfolio response type: <class 'asyncpg.Record'>
2025-08-28 17:49:23,050 - app.api.routes.available_portfolios - INFO - Found portfolio: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus'}
2025-08-28 17:49:23,050 - app.api.routes.available_portfolios - INFO - Fetching latest generation for portfolio ID: 32
2025-08-28 17:49:23,052 - app.api.routes.available_portfolios - INFO - Found 1 generations for template 32
2025-08-28 17:49:23,052 - app.api.routes.available_portfolios - INFO - Generation response data: <Record id=48 available_portfolio_id=32 version_number=None generation_name='Medium Plus - November 2024' description='November 2024' status='active' created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc) updated_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,053 - app.api.routes.available_portfolios - INFO - Using generation: {'id': 48, 'available_portfolio_id': 32, 'version_number': None, 'generation_name': 'Medium Plus - November 2024', 'description': 'November 2024', 'status': 'active', 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,053 - app.api.routes.available_portfolios - INFO - Fetching funds for generation ID: 48
2025-08-28 17:49:23,054 - app.api.routes.available_portfolios - INFO - Portfolio funds response data: [<Record id=646 template_portfolio_generation_id=48 fund_id=5 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)>, <Record id=647 template_portfolio_generation_id=48 fund_id=8 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)>, <Record id=648 template_portfolio_generation_id=48 fund_id=9 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)>, <Record id=649 template_portfolio_generation_id=48 fund_id=10 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)>, <Record id=650 template_portfolio_generation_id=48 fund_id=11 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)>, <Record id=651 template_portfolio_generation_id=48 fund_id=12 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)>, <Record id=652 template_portfolio_generation_id=48 fund_id=13 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)>, <Record id=653 template_portfolio_generation_id=48 fund_id=37 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)>, <Record id=654 template_portfolio_generation_id=48 fund_id=69 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)>, <Record id=655 template_portfolio_generation_id=48 fund_id=68 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)>, <Record id=656 template_portfolio_generation_id=48 fund_id=75 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)>]
2025-08-28 17:49:23,058 - app.api.routes.available_portfolios - INFO - Number of funds found: 11
2025-08-28 17:49:23,060 - app.api.routes.available_portfolios - INFO - Processing fund 1 of 11
2025-08-28 17:49:23,060 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 646, 'template_portfolio_generation_id': 48, 'fund_id': 5, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,062 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=5 fund_name='Cash' isin_number='N/A' risk_factor=2 fund_cost=Decimal('0.00') status='active' created_at=datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,063 - app.api.routes.available_portfolios - INFO - Successfully processed fund 1: {'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,063 - app.api.routes.available_portfolios - INFO - Processing fund 2 of 11
2025-08-28 17:49:23,063 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 647, 'template_portfolio_generation_id': 48, 'fund_id': 8, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,065 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=8 fund_name='BNY Mellon Global Income' isin_number='GB00B7S9KM94' risk_factor=5 fund_cost=Decimal('0.94') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,065 - app.api.routes.available_portfolios - INFO - Successfully processed fund 2: {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,065 - app.api.routes.available_portfolios - INFO - Processing fund 3 of 11
2025-08-28 17:49:23,066 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 648, 'template_portfolio_generation_id': 48, 'fund_id': 9, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,068 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=9 fund_name='BNY Mellon Multi-Asset Balanced' isin_number='GB00B86LX253' risk_factor=4 fund_cost=Decimal('0.75') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,068 - app.api.routes.available_portfolios - INFO - Successfully processed fund 3: {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,069 - app.api.routes.available_portfolios - INFO - Processing fund 4 of 11
2025-08-28 17:49:23,069 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 649, 'template_portfolio_generation_id': 48, 'fund_id': 10, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,070 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=10 fund_name='Fidelity UK Smaller Companies' isin_number='GB00B7VNMB18' risk_factor=5 fund_cost=Decimal('1.19') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,071 - app.api.routes.available_portfolios - INFO - Successfully processed fund 4: {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,071 - app.api.routes.available_portfolios - INFO - Processing fund 5 of 11
2025-08-28 17:49:23,072 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 650, 'template_portfolio_generation_id': 48, 'fund_id': 11, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,073 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=11 fund_name='FTF Martin Currie UK Rising Dividends' isin_number='GB00B5MJ5601' risk_factor=4 fund_cost=Decimal('0.57') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,074 - app.api.routes.available_portfolios - INFO - Successfully processed fund 5: {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,074 - app.api.routes.available_portfolios - INFO - Processing fund 6 of 11
2025-08-28 17:49:23,074 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 651, 'template_portfolio_generation_id': 48, 'fund_id': 12, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,076 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=12 fund_name='RL Sustainable World Trust' isin_number='GB00B882H241' risk_factor=5 fund_cost=Decimal('0.87') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,076 - app.api.routes.available_portfolios - INFO - Successfully processed fund 6: {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,077 - app.api.routes.available_portfolios - INFO - Processing fund 7 of 11
2025-08-28 17:49:23,077 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 652, 'template_portfolio_generation_id': 48, 'fund_id': 13, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,078 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=13 fund_name='Stewart Investors Worldwide Leaders ' isin_number='GB0030978729' risk_factor=5 fund_cost=Decimal('0.61') status='active' created_at=datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,079 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,079 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:49:23,079 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,081 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,081 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,082 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:49:23,082 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,083 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,084 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,084 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:49:23,084 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,086 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,089 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:49:23,090 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:49:23,090 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,092 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,114 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,117 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:49:23,134 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:49:23,136 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
2025-08-28 17:49:23,225 - app.api.routes.available_portfolios - ERROR - Error fetching products linked to template 32: column "product_id" does not exist
2025-08-28 17:49:23,322 - app.api.routes.available_portfolios - INFO - === Request Information ===
2025-08-28 17:49:23,323 - app.api.routes.available_portfolios - INFO - Method: GET
2025-08-28 17:49:23,324 - app.api.routes.available_portfolios - INFO - URL: http://localhost:8001/api/available_portfolios/32?generation_id=48
2025-08-28 17:49:23,325 - app.api.routes.available_portfolios - INFO - Headers: {'host': 'localhost:8001', 'connection': 'close', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'accept': 'application/json, text/plain, */*', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/definitions/portfolio-templates/32', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8', 'cookie': 'session_id=46fcc7f0-b8ec-4c7f-a773-8ca54d0d4763; access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwiZXhwIjoxNzU2NDczMzA0fQ.raZ_zOK6hOqvaEu21uZfJ_bhcigBe2zjUVhqYzvYfms'}
2025-08-28 17:49:23,326 - app.api.routes.available_portfolios - INFO - Portfolio ID: 32
2025-08-28 17:49:23,326 - app.api.routes.available_portfolios - INFO - Generation ID: 48
2025-08-28 17:49:23,326 - app.api.routes.available_portfolios - INFO - Client Host: 127.0.0.1
2025-08-28 17:49:23,330 - app.api.routes.available_portfolios - INFO - Fetching portfolio with ID: 32
2025-08-28 17:49:23,333 - app.api.routes.available_portfolios - INFO - Portfolio response data: <Record id=32 created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc) name='Medium Plus'>
2025-08-28 17:49:23,333 - app.api.routes.available_portfolios - INFO - Portfolio response type: <class 'asyncpg.Record'>
2025-08-28 17:49:23,333 - app.api.routes.available_portfolios - INFO - Found portfolio: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus'}
2025-08-28 17:49:23,333 - app.api.routes.available_portfolios - INFO - Fetching specific generation with ID: 48
2025-08-28 17:49:23,338 - app.api.routes.available_portfolios - INFO - Found specific generation: {'id': 48, 'available_portfolio_id': 32, 'version_number': None, 'generation_name': 'Medium Plus - November 2024', 'description': 'November 2024', 'status': 'active', 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,339 - app.api.routes.available_portfolios - INFO - Fetching funds for generation ID: 48
2025-08-28 17:49:23,341 - app.api.routes.available_portfolios - INFO - Portfolio funds response data: [<Record id=646 template_portfolio_generation_id=48 fund_id=5 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)>, <Record id=647 template_portfolio_generation_id=48 fund_id=8 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)>, <Record id=648 template_portfolio_generation_id=48 fund_id=9 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)>, <Record id=649 template_portfolio_generation_id=48 fund_id=10 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)>, <Record id=650 template_portfolio_generation_id=48 fund_id=11 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)>, <Record id=651 template_portfolio_generation_id=48 fund_id=12 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)>, <Record id=652 template_portfolio_generation_id=48 fund_id=13 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)>, <Record id=653 template_portfolio_generation_id=48 fund_id=37 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)>, <Record id=654 template_portfolio_generation_id=48 fund_id=69 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)>, <Record id=655 template_portfolio_generation_id=48 fund_id=68 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)>, <Record id=656 template_portfolio_generation_id=48 fund_id=75 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)>]
2025-08-28 17:49:23,341 - app.api.routes.available_portfolios - INFO - Number of funds found: 11
2025-08-28 17:49:23,342 - app.api.routes.available_portfolios - INFO - Processing fund 1 of 11
2025-08-28 17:49:23,342 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 646, 'template_portfolio_generation_id': 48, 'fund_id': 5, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,343 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=5 fund_name='Cash' isin_number='N/A' risk_factor=2 fund_cost=Decimal('0.00') status='active' created_at=datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,345 - app.api.routes.available_portfolios - INFO - Successfully processed fund 1: {'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,345 - app.api.routes.available_portfolios - INFO - Processing fund 2 of 11
2025-08-28 17:49:23,346 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 647, 'template_portfolio_generation_id': 48, 'fund_id': 8, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,347 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=8 fund_name='BNY Mellon Global Income' isin_number='GB00B7S9KM94' risk_factor=5 fund_cost=Decimal('0.94') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,348 - app.api.routes.available_portfolios - INFO - Successfully processed fund 2: {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,348 - app.api.routes.available_portfolios - INFO - Processing fund 3 of 11
2025-08-28 17:49:23,349 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 648, 'template_portfolio_generation_id': 48, 'fund_id': 9, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,350 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=9 fund_name='BNY Mellon Multi-Asset Balanced' isin_number='GB00B86LX253' risk_factor=4 fund_cost=Decimal('0.75') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,351 - app.api.routes.available_portfolios - INFO - Successfully processed fund 3: {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,351 - app.api.routes.available_portfolios - INFO - Processing fund 4 of 11
2025-08-28 17:49:23,351 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 649, 'template_portfolio_generation_id': 48, 'fund_id': 10, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,353 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=10 fund_name='Fidelity UK Smaller Companies' isin_number='GB00B7VNMB18' risk_factor=5 fund_cost=Decimal('1.19') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,353 - app.api.routes.available_portfolios - INFO - Successfully processed fund 4: {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,354 - app.api.routes.available_portfolios - INFO - Processing fund 5 of 11
2025-08-28 17:49:23,354 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 650, 'template_portfolio_generation_id': 48, 'fund_id': 11, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,356 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=11 fund_name='FTF Martin Currie UK Rising Dividends' isin_number='GB00B5MJ5601' risk_factor=4 fund_cost=Decimal('0.57') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,356 - app.api.routes.available_portfolios - INFO - Successfully processed fund 5: {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,356 - app.api.routes.available_portfolios - INFO - Processing fund 6 of 11
2025-08-28 17:49:23,356 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 651, 'template_portfolio_generation_id': 48, 'fund_id': 12, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,358 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=12 fund_name='RL Sustainable World Trust' isin_number='GB00B882H241' risk_factor=5 fund_cost=Decimal('0.87') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,358 - app.api.routes.available_portfolios - INFO - Successfully processed fund 6: {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,358 - app.api.routes.available_portfolios - INFO - Processing fund 7 of 11
2025-08-28 17:49:23,359 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 652, 'template_portfolio_generation_id': 48, 'fund_id': 13, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,360 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=13 fund_name='Stewart Investors Worldwide Leaders ' isin_number='GB0030978729' risk_factor=5 fund_cost=Decimal('0.61') status='active' created_at=datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,361 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,361 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:49:23,361 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,362 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,363 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,363 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:49:23,364 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,366 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,366 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,366 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:49:23,368 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,369 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,370 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:49:23,371 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:49:23,372 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,375 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,375 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,375 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:49:23,379 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:49:23,380 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
2025-08-28 17:49:23,402 - app.api.routes.available_portfolios - INFO - === Request Information ===
2025-08-28 17:49:23,404 - app.api.routes.available_portfolios - INFO - Method: GET
2025-08-28 17:49:23,405 - app.api.routes.available_portfolios - INFO - URL: http://localhost:8001/api/available_portfolios/32
2025-08-28 17:49:23,406 - app.api.routes.available_portfolios - INFO - Headers: {'host': 'localhost:8001', 'connection': 'close', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'accept': 'application/json, text/plain, */*', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:3000/definitions/portfolio-templates/32', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8', 'cookie': 'session_id=46fcc7f0-b8ec-4c7f-a773-8ca54d0d4763; access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwiZXhwIjoxNzU2NDczMzA0fQ.raZ_zOK6hOqvaEu21uZfJ_bhcigBe2zjUVhqYzvYfms'}
2025-08-28 17:49:23,406 - app.api.routes.available_portfolios - INFO - Portfolio ID: 32
2025-08-28 17:49:23,420 - app.api.routes.available_portfolios - INFO - Generation ID: None
2025-08-28 17:49:23,431 - app.api.routes.available_portfolios - INFO - Client Host: 127.0.0.1
2025-08-28 17:49:23,442 - app.api.routes.available_portfolios - INFO - Fetching portfolio with ID: 32
2025-08-28 17:49:23,475 - app.api.routes.available_portfolios - INFO - Portfolio response data: <Record id=32 created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc) name='Medium Plus'>
2025-08-28 17:49:23,488 - app.api.routes.available_portfolios - INFO - Portfolio response type: <class 'asyncpg.Record'>
2025-08-28 17:49:23,501 - app.api.routes.available_portfolios - INFO - Found portfolio: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus'}
2025-08-28 17:49:23,507 - app.api.routes.available_portfolios - INFO - Fetching latest generation for portfolio ID: 32
2025-08-28 17:49:23,517 - app.api.routes.available_portfolios - INFO - Fetching products linked to portfolio template 32
2025-08-28 17:49:23,532 - app.api.routes.available_portfolios - INFO - Found 1 generations for template 32
2025-08-28 17:49:23,538 - app.api.routes.available_portfolios - INFO - Generation response data: <Record id=48 available_portfolio_id=32 version_number=None generation_name='Medium Plus - November 2024' description='November 2024' status='active' created_at=datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc) updated_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,538 - app.api.routes.available_portfolios - INFO - Using generation: {'id': 48, 'available_portfolio_id': 32, 'version_number': None, 'generation_name': 'Medium Plus - November 2024', 'description': 'November 2024', 'status': 'active', 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 864827, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 161686, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,539 - app.api.routes.available_portfolios - INFO - Fetching funds for generation ID: 48
2025-08-28 17:49:23,541 - app.api.routes.available_portfolios - INFO - Portfolio funds response data: [<Record id=646 template_portfolio_generation_id=48 fund_id=5 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)>, <Record id=647 template_portfolio_generation_id=48 fund_id=8 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)>, <Record id=648 template_portfolio_generation_id=48 fund_id=9 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)>, <Record id=649 template_portfolio_generation_id=48 fund_id=10 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)>, <Record id=650 template_portfolio_generation_id=48 fund_id=11 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)>, <Record id=651 template_portfolio_generation_id=48 fund_id=12 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)>, <Record id=652 template_portfolio_generation_id=48 fund_id=13 target_weighting=Decimal('20.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)>, <Record id=653 template_portfolio_generation_id=48 fund_id=37 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)>, <Record id=654 template_portfolio_generation_id=48 fund_id=69 target_weighting=Decimal('5.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)>, <Record id=655 template_portfolio_generation_id=48 fund_id=68 target_weighting=Decimal('15.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)>, <Record id=656 template_portfolio_generation_id=48 fund_id=75 target_weighting=Decimal('0.00') created_at=datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)>]
2025-08-28 17:49:23,542 - app.api.routes.available_portfolios - INFO - Number of funds found: 11
2025-08-28 17:49:23,543 - app.api.routes.available_portfolios - INFO - Processing fund 1 of 11
2025-08-28 17:49:23,543 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 646, 'template_portfolio_generation_id': 48, 'fund_id': 5, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,548 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=5 fund_name='Cash' isin_number='N/A' risk_factor=2 fund_cost=Decimal('0.00') status='active' created_at=datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,549 - app.api.routes.available_portfolios - INFO - Successfully processed fund 1: {'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,550 - app.api.routes.available_portfolios - INFO - Processing fund 2 of 11
2025-08-28 17:49:23,550 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 647, 'template_portfolio_generation_id': 48, 'fund_id': 8, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,553 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=8 fund_name='BNY Mellon Global Income' isin_number='GB00B7S9KM94' risk_factor=5 fund_cost=Decimal('0.94') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,555 - app.api.routes.available_portfolios - INFO - Successfully processed fund 2: {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,560 - app.api.routes.available_portfolios - INFO - Processing fund 3 of 11
2025-08-28 17:49:23,564 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 648, 'template_portfolio_generation_id': 48, 'fund_id': 9, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,569 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=9 fund_name='BNY Mellon Multi-Asset Balanced' isin_number='GB00B86LX253' risk_factor=4 fund_cost=Decimal('0.75') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,573 - app.api.routes.available_portfolios - INFO - Successfully processed fund 3: {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,575 - app.api.routes.available_portfolios - INFO - Processing fund 4 of 11
2025-08-28 17:49:23,578 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 649, 'template_portfolio_generation_id': 48, 'fund_id': 10, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,581 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=10 fund_name='Fidelity UK Smaller Companies' isin_number='GB00B7VNMB18' risk_factor=5 fund_cost=Decimal('1.19') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,583 - app.api.routes.available_portfolios - INFO - Successfully processed fund 4: {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,585 - app.api.routes.available_portfolios - INFO - Processing fund 5 of 11
2025-08-28 17:49:23,588 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 650, 'template_portfolio_generation_id': 48, 'fund_id': 11, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,592 - app.api.routes.available_portfolios - ERROR - Error fetching products linked to template 32: column "product_id" does not exist
2025-08-28 17:49:23,595 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=11 fund_name='FTF Martin Currie UK Rising Dividends' isin_number='GB00B5MJ5601' risk_factor=4 fund_cost=Decimal('0.57') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,595 - app.api.routes.available_portfolios - INFO - Successfully processed fund 5: {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,596 - app.api.routes.available_portfolios - INFO - Processing fund 6 of 11
2025-08-28 17:49:23,597 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 651, 'template_portfolio_generation_id': 48, 'fund_id': 12, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,599 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=12 fund_name='RL Sustainable World Trust' isin_number='GB00B882H241' risk_factor=5 fund_cost=Decimal('0.87') status='active' created_at=datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,599 - app.api.routes.available_portfolios - INFO - Successfully processed fund 6: {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,599 - app.api.routes.available_portfolios - INFO - Processing fund 7 of 11
2025-08-28 17:49:23,600 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 652, 'template_portfolio_generation_id': 48, 'fund_id': 13, 'target_weighting': Decimal('20.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,601 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=13 fund_name='Stewart Investors Worldwide Leaders ' isin_number='GB0030978729' risk_factor=5 fund_cost=Decimal('0.61') status='active' created_at=datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,601 - app.api.routes.available_portfolios - INFO - Successfully processed fund 7: {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,602 - app.api.routes.available_portfolios - INFO - Processing fund 8 of 11
2025-08-28 17:49:23,603 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 653, 'template_portfolio_generation_id': 48, 'fund_id': 37, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,605 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=37 fund_name='Historical Funds' isin_number='GB00273G2831' risk_factor=5 fund_cost=Decimal('0.83') status='active' created_at=datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,606 - app.api.routes.available_portfolios - INFO - Successfully processed fund 8: {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,606 - app.api.routes.available_portfolios - INFO - Processing fund 9 of 11
2025-08-28 17:49:23,607 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 654, 'template_portfolio_generation_id': 48, 'fund_id': 69, 'target_weighting': Decimal('5.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,608 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=69 fund_name='Vanguard Life Strategy 80% Equity A Acc' isin_number='GB00B4PQW151' risk_factor=4 fund_cost=Decimal('0.25') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,609 - app.api.routes.available_portfolios - INFO - Successfully processed fund 9: {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,609 - app.api.routes.available_portfolios - INFO - Processing fund 10 of 11
2025-08-28 17:49:23,610 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 655, 'template_portfolio_generation_id': 48, 'fund_id': 68, 'target_weighting': Decimal('15.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,611 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=68 fund_name='Vanguard Life Strategy 40% Equity A Acc' isin_number='GB00B3ZHN960' risk_factor=3 fund_cost=Decimal('0.27') status='active' created_at=datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,612 - app.api.routes.available_portfolios - INFO - Successfully processed fund 10: {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}       
2025-08-28 17:49:23,612 - app.api.routes.available_portfolios - INFO - Processing fund 11 of 11
2025-08-28 17:49:23,612 - app.api.routes.available_portfolios - INFO - Portfolio fund data: {'id': 656, 'template_portfolio_generation_id': 48, 'fund_id': 75, 'target_weighting': Decimal('0.00'), 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc)}
2025-08-28 17:49:23,614 - app.api.routes.available_portfolios - INFO - Fund details response: <Record id=75 fund_name='LF Equity Income ' isin_number='GB00BLRZQ737' risk_factor=4 fund_cost=Decimal('1.24') status='active' created_at=datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)>
2025-08-28 17:49:23,614 - app.api.routes.available_portfolios - INFO - Successfully processed fund 11: {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}
2025-08-28 17:49:23,614 - app.api.routes.available_portfolios - INFO - Fetching weighted risk for generation ID: 48
2025-08-28 17:49:23,618 - app.api.routes.available_portfolios - INFO - Found weighted risk: 4.3500000000000000
2025-08-28 17:49:23,619 - app.api.routes.available_portfolios - INFO - Final response: {'id': 32, 'created_at': datetime.datetime(2025, 7, 15, 13, 33, 29, 798699, tzinfo=datetime.timezone.utc), 'name': 'Medium Plus', 'funds': [{'id': 646, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 173483, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 5, 'available_funds': {'id': 5, 'fund_name': 'Cash', 'isin_number': 'N/A', 'risk_factor': 2, 'fund_cost': Decimal('0.00'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 6, 10, 7, 22, 547237, tzinfo=datetime.timezone.utc)}}, {'id': 647, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 184899, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 8, 'available_funds': {'id': 8, 'fund_name': 'BNY Mellon Global Income', 'isin_number': 'GB00B7S9KM94', 'risk_factor': 5, 'fund_cost': Decimal('0.94'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 2, 126798, tzinfo=datetime.timezone.utc)}}, {'id': 648, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 187949, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 9, 'available_funds': {'id': 9, 'fund_name': 'BNY Mellon Multi-Asset Balanced', 'isin_number': 'GB00B86LX253', 'risk_factor': 4, 'fund_cost': Decimal('0.75'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 56, 55, 455831, tzinfo=datetime.timezone.utc)}}, {'id': 649, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 191003, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 10, 'available_funds': {'id': 10, 'fund_name': 'Fidelity UK Smaller Companies', 'isin_number': 'GB00B7VNMB18', 'risk_factor': 5, 'fund_cost': Decimal('1.19'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 57, 37, 916626, tzinfo=datetime.timezone.utc)}}, {'id': 650, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 194225, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 11, 'available_funds': {'id': 11, 'fund_name': 'FTF Martin Currie UK Rising Dividends', 'isin_number': 'GB00B5MJ5601', 'risk_factor': 4, 'fund_cost': Decimal('0.57'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 58, 18, 119080, tzinfo=datetime.timezone.utc)}}, {'id': 651, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 196253, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 12, 'available_funds': {'id': 12, 'fund_name': 'RL Sustainable World Trust', 'isin_number': 'GB00B882H241', 'risk_factor': 5, 'fund_cost': Decimal('0.87'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 8, 59, 53, 900128, tzinfo=datetime.timezone.utc)}}, {'id': 652, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 198170, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 20.0, 'fund_id': 13, 'available_funds': {'id': 13, 'fund_name': 'Stewart Investors Worldwide Leaders ', 'isin_number': 'GB0030978729', 'risk_factor': 5, 'fund_cost': Decimal('0.61'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 15, 9, 1, 3, 159346, tzinfo=datetime.timezone.utc)}}, {'id': 653, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 200242, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 37, 'available_funds': {'id': 37, 'fund_name': 'Historical Funds', 'isin_number': 'GB00273G2831', 'risk_factor': 5, 'fund_cost': Decimal('0.83'), 'status': 'active', 'created_at': datetime.datetime(2025, 5, 23, 13, 26, 24, 63383, tzinfo=datetime.timezone.utc)}}, {'id': 654, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 202352, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 5.0, 'fund_id': 69, 'available_funds': {'id': 69, 'fund_name': 'Vanguard Life Strategy 80% Equity A Acc', 'isin_number': 'GB00B4PQW151', 'risk_factor': 4, 'fund_cost': Decimal('0.25'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 44, 157857, tzinfo=datetime.timezone.utc)}}, {'id': 655, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 204573, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 15.0, 'fund_id': 68, 'available_funds': {'id': 68, 'fund_name': 'Vanguard Life Strategy 40% Equity A Acc', 'isin_number': 'GB00B3ZHN960', 'risk_factor': 3, 'fund_cost': Decimal('0.27'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 21, 15, 57, 15, 583707, tzinfo=datetime.timezone.utc)}}, {'id': 656, 'created_at': datetime.datetime(2025, 8, 15, 12, 45, 54, 206776, tzinfo=datetime.timezone.utc), 'portfolio_id': 32, 'target_weighting': 0.0, 'fund_id': 75, 'available_funds': {'id': 75, 'fund_name': 'LF Equity Income ', 'isin_number': 'GB00BLRZQ737', 'risk_factor': 4, 'fund_cost': Decimal('1.24'), 'status': 'active', 'created_at': datetime.datetime(2025, 7, 23, 13, 13, 55, 690693, tzinfo=datetime.timezone.utc)}}], 'weighted_risk': Decimal('4.3500000000000000'), 'generation_id': 48, 'generation_name': 'Medium Plus - November 2024'}
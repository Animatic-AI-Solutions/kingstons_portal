2025-09-08 15:32:44,299 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.06173556621500165
2025-09-08 15:32:44,299 - app.api.routes.portfolio_funds - INFO - Days in period: 1492
2025-09-08 15:32:44,299 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,299 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.5145%
2025-09-08 15:32:44,299 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 6.1736%
2025-09-08 15:32:44,300 - app.api.routes.portfolio_funds - INFO - Months in period: 50
2025-09-08 15:32:44,300 - app.api.routes.portfolio_funds - INFO - Array size used: 50
2025-09-08 15:32:44,300 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 6.2% over 1492 days (15 cash flow periods)
2025-09-08 15:32:44,300 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,300 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 6.2%
2025-09-08 15:32:44,301 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 11 portfolio funds: 6.2%
2025-09-08 15:32:44,301 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2020-07-01: 6.2%
2025-09-08 15:32:44,304 - app.api.routes.portfolio_funds - INFO - Calculating aggregated IRR for 14 portfolio funds  (BYPASSING CACHE)
2025-09-08 15:32:44,304 - app.api.routes.portfolio_funds - INFO - 🔄 Bypassing cache for fresh calculation as requested
2025-09-08 15:32:44,304 - app.api.routes.portfolio_funds - INFO - IRR calculation date: 2021-06-01
2025-09-08 15:32:44,304 - app.api.routes.portfolio_funds - INFO - 🚀 Batch fetching valuations for 14 funds (eliminates 14 individual requests)     
2025-09-08 15:32:44,306 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1007 as of 2021-06-01
2025-09-08 15:32:44,310 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1008 as of 2021-06-01
2025-09-08 15:32:44,310 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1009 as of 2021-06-01
2025-09-08 15:32:44,310 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Valuation lookup for historical date 2021-06-01:
2025-09-08 15:32:44,311 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Requested fund IDs: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1007, 1008, 1009, 1000]
2025-09-08 15:32:44,311 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Found valuations: {996: 427.69, 997: 0.0, 998: 0.0, 999: 0.0, 1000: 0.0, 1001: 5520.3, 1002: 4701.97, 1005: 9440.7, 1006: 46.44, 1534: 3061.67, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,311 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 996 has valuation £427.69 as of 2021-06-01
2025-09-08 15:32:44,312 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 997 has valuation £0.0 as of 2021-06-01
2025-09-08 15:32:44,312 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 998 has valuation £0.0 as of 2021-06-01
2025-09-08 15:32:44,312 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 999 has valuation £0.0 as of 2021-06-01
2025-09-08 15:32:44,312 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1000 has valuation £0.0 as of 2021-06-01
2025-09-08 15:32:44,312 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1001 has valuation £5520.3 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1002 has valuation £4701.97 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1005 has valuation £9440.7 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1006 has valuation £46.44 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1534 has valuation £3061.67 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1535 has valuation £0.0 as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1007 has NO valuation as of 2021-06-01
2025-09-08 15:32:44,313 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1008 has NO valuation as of 2021-06-01
2025-09-08 15:32:44,314 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1009 has NO valuation as of 2021-06-01
2025-09-08 15:32:44,314 - app.api.routes.portfolio_funds - INFO - ✅ Batch valuation optimization complete - Fund valuations: {996: 427.69, 997: 0.0, 998: 0.0, 999: 0.0, 1000: 0.0, 1001: 5520.3, 1002: 4701.97, 1005: 9440.7, 1006: 46.44, 1534: 3061.67, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,314 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: 11 out of 14 funds have valuations as of 2021-06-01
2025-09-08 15:32:44,314 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ⚠️ Excluding 3 funds without valuations from IRR calculation: [1007,  1008, 1009]
2025-09-08 15:32:44,314 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ✅ Including 11 funds with valuations: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1000]
2025-09-08 15:32:44,317 - app.api.routes.portfolio_funds - INFO - 📊 Processing 52 activities across 11 funds
2025-09-08 15:32:44,318 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Separated cash flows by date:
2025-09-08 15:32:44,318 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-07-01: £-14706.6
2025-09-08 15:32:44,318 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-08-01: £-4.547473508864641e-13
2025-09-08 15:32:44,318 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-08-01: £1000.0
2025-09-08 15:32:44,319 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-07-01: £700.0
2025-09-08 15:32:44,319 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-02-01: £0.0
2025-09-08 15:32:44,319 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-06-01: £0.0
2025-09-08 15:32:44,319 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-09-01: £-6000.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-10-01: £0.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-12-01: £500.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-01-01: £0.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-02-01: £0.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-03-01: £0.0
2025-09-08 15:32:44,320 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-04-01: £0.0
2025-09-08 15:32:44,321 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-07-01: £1350.0
2025-09-08 15:32:44,321 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-08-01: £0.0
2025-09-08 15:32:44,321 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-09-01: £0.0
2025-09-08 15:32:44,321 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-12-01: £-4.547473508864641e-13
2025-09-08 15:32:44,322 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-07-01: £23198.769999999997
2025-09-08 15:32:44,322 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: About to call calculate_excel_style_irr with:
2025-09-08 15:32:44,322 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Dates: ['2016-07-01T00:00:00', '2016-08-01T00:00:00', '2017-08-01T00:00:00', '2018-07-01T00:00:00', '2019-02-01T00:00:00', '2019-06-01T00:00:00', '2019-09-01T00:00:00', '2019-10-01T00:00:00', '2019-12-01T00:00:00', '2020-01-01T00:00:00', '2020-02-01T00:00:00', '2020-03-01T00:00:00', '2020-04-01T00:00:00', '2020-07-01T00:00:00', '2020-08-01T00:00:00', '2020-09-01T00:00:00', '2020-12-01T00:00:00', '2021-07-01T00:00:00']
2025-09-08 15:32:44,322 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Amounts: [-14706.6, -4.547473508864641e-13, 1000.0, 700.0, 0.0, 0.0, -6000.0, 0.0, 500.0, 0.0, 0.0, 0.0, 0.0, 1350.0, 0.0, 0.0, -4.547473508864641e-13, 23198.769999999997]
2025-09-08 15:32:44,322 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: First amount: -14706.6, Last amount: 23198.769999999997
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO -
Monthly cash flows:
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO - Month 0: -14706.6
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO - Month 1: 0.0
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO - Month 2: 0.0
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO - Month 3: 0.0
2025-09-08 15:32:44,323 - app.api.routes.portfolio_funds - INFO - Month 4: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 5: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 6: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 7: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 8: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 9: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 10: 0.0
2025-09-08 15:32:44,324 - app.api.routes.portfolio_funds - INFO - Month 11: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 12: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 13: 1000.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 14: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 15: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 16: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 17: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 18: 0.0
2025-09-08 15:32:44,325 - app.api.routes.portfolio_funds - INFO - Month 19: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 20: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 21: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 22: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 23: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 24: 700.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 25: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 26: 0.0
2025-09-08 15:32:44,326 - app.api.routes.portfolio_funds - INFO - Month 27: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 28: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 29: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 30: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 31: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 32: 0.0
2025-09-08 15:32:44,327 - app.api.routes.portfolio_funds - INFO - Month 33: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 34: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 35: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 36: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 37: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 38: -6000.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 39: 0.0
2025-09-08 15:32:44,328 - app.api.routes.portfolio_funds - INFO - Month 40: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 41: 500.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 42: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 43: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 44: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 45: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 46: 0.0
2025-09-08 15:32:44,329 - app.api.routes.portfolio_funds - INFO - Month 47: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 48: 1350.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 49: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 50: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 51: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 52: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 53: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 54: 0.0
2025-09-08 15:32:44,330 - app.api.routes.portfolio_funds - INFO - Month 55: 0.0
2025-09-08 15:32:44,331 - app.api.routes.portfolio_funds - INFO - Month 56: 0.0
2025-09-08 15:32:44,331 - app.api.routes.portfolio_funds - INFO - Month 57: 0.0
2025-09-08 15:32:44,331 - app.api.routes.portfolio_funds - INFO - Month 58: 0.0
2025-09-08 15:32:44,331 - app.api.routes.portfolio_funds - INFO - Month 59: 0.0
2025-09-08 15:32:44,332 - app.api.routes.portfolio_funds - INFO - Month 60: 23198.769999999997
2025-09-08 15:32:44,332 - app.api.routes.portfolio_funds - INFO - Calculating IRR using numpy_financial.irr...
2025-09-08 15:32:44,334 - app.api.routes.portfolio_funds - INFO - Raw monthly IRR calculation result: 0.005607749705677012
2025-09-08 15:32:44,334 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.06729299646812414
2025-09-08 15:32:44,336 - app.api.routes.portfolio_funds - INFO - Days in period: 1826
2025-09-08 15:32:44,336 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,337 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.5608%
2025-09-08 15:32:44,337 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 6.7293%
2025-09-08 15:32:44,338 - app.api.routes.portfolio_funds - INFO - Months in period: 61
2025-09-08 15:32:44,338 - app.api.routes.portfolio_funds - INFO - Array size used: 61
2025-09-08 15:32:44,339 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 6.7% over 1826 days (18 cash flow periods)
2025-09-08 15:32:44,339 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,339 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 6.7%
2025-09-08 15:32:44,340 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 11 portfolio funds: 6.7%
2025-09-08 15:32:44,340 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2021-06-01: 6.7%
2025-09-08 15:32:44,343 - app.api.routes.portfolio_funds - INFO - Calculating aggregated IRR for 14 portfolio funds  (BYPASSING CACHE)
2025-09-08 15:32:44,343 - app.api.routes.portfolio_funds - INFO - 🔄 Bypassing cache for fresh calculation as requested
2025-09-08 15:32:44,343 - app.api.routes.portfolio_funds - INFO - IRR calculation date: 2022-08-01
2025-09-08 15:32:44,344 - app.api.routes.portfolio_funds - INFO - 🚀 Batch fetching valuations for 14 funds (eliminates 14 individual requests)     
2025-09-08 15:32:44,346 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1007 as of 2022-08-01
2025-09-08 15:32:44,346 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1008 as of 2022-08-01
2025-09-08 15:32:44,346 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1009 as of 2022-08-01
2025-09-08 15:32:44,347 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Valuation lookup for historical date 2022-08-01:
2025-09-08 15:32:44,347 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Requested fund IDs: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1007, 1008, 1009, 1000]
2025-09-08 15:32:44,347 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Found valuations: {996: 201.33, 997: 2749.25, 998: 0.0, 999: 0.0, 1000: 1072.76, 1001: 3859.67, 1002: 4231.21, 1005: 5422.86, 1006: 40.52, 1534: 2965.4, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,348 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 996 has valuation £201.33 as of 2022-08-01
2025-09-08 15:32:44,348 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 997 has valuation £2749.25 as of 2022-08-01
2025-09-08 15:32:44,348 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 998 has valuation £0.0 as of 2022-08-01
2025-09-08 15:32:44,348 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 999 has valuation £0.0 as of 2022-08-01
2025-09-08 15:32:44,349 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1000 has valuation £1072.76 as of 2022-08-01
2025-09-08 15:32:44,349 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1001 has valuation £3859.67 as of 2022-08-01
2025-09-08 15:32:44,350 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1002 has valuation £4231.21 as of 2022-08-01
2025-09-08 15:32:44,350 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1005 has valuation £5422.86 as of 2022-08-01
2025-09-08 15:32:44,350 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1006 has valuation £40.52 as of 2022-08-01
2025-09-08 15:32:44,351 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1534 has valuation £2965.4 as of 2022-08-01
2025-09-08 15:32:44,351 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1535 has valuation £0.0 as of 2022-08-01
2025-09-08 15:32:44,351 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1007 has NO valuation as of 2022-08-01
2025-09-08 15:32:44,351 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1008 has NO valuation as of 2022-08-01
2025-09-08 15:32:44,352 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1009 has NO valuation as of 2022-08-01
2025-09-08 15:32:44,352 - app.api.routes.portfolio_funds - INFO - ✅ Batch valuation optimization complete - Fund valuations: {996: 201.33, 997: 2749.25, 998: 0.0, 999: 0.0, 1000: 1072.76, 1001: 3859.67, 1002: 4231.21, 1005: 5422.86, 1006: 40.52, 1534: 2965.4, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,352 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: 11 out of 14 funds have valuations as of 2022-08-01
2025-09-08 15:32:44,352 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ⚠️ Excluding 3 funds without valuations from IRR calculation: [1007,  1008, 1009]
2025-09-08 15:32:44,352 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ✅ Including 11 funds with valuations: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1000]
2025-09-08 15:32:44,356 - app.api.routes.portfolio_funds - INFO - 📊 Processing 70 activities across 11 funds
2025-09-08 15:32:44,357 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Separated cash flows by date:
2025-09-08 15:32:44,357 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-07-01: £-14706.6
2025-09-08 15:32:44,358 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-08-01: £6.821210263296962e-13
2025-09-08 15:32:44,358 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-08-01: £999.9999999999999
2025-09-08 15:32:44,358 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-07-01: £700.0
2025-09-08 15:32:44,358 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-02-01: £0.0
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-06-01: £0.0
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-09-01: £-6000.0
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-10-01: £-4.547473508864641e-13
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-12-01: £500.0
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-01-01: £0.0
2025-09-08 15:32:44,359 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-02-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-03-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-04-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-07-01: £1350.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-08-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-09-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-12-01: £-4.547473508864641e-13
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-11-01: £1500.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-12-01: £0.0
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-03-01: £-3.410605131648481e-13
2025-09-08 15:32:44,360 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-09-01: £20543.000000000004
2025-09-08 15:32:44,361 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: About to call calculate_excel_style_irr with:
2025-09-08 15:32:44,361 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Dates: ['2016-07-01T00:00:00', '2016-08-01T00:00:00', '2017-08-01T00:00:00', '2018-07-01T00:00:00', '2019-02-01T00:00:00', '2019-06-01T00:00:00', '2019-09-01T00:00:00', '2019-10-01T00:00:00', '2019-12-01T00:00:00', '2020-01-01T00:00:00', '2020-02-01T00:00:00', '2020-03-01T00:00:00', '2020-04-01T00:00:00', '2020-07-01T00:00:00', '2020-08-01T00:00:00', '2020-09-01T00:00:00', '2020-12-01T00:00:00', '2021-11-01T00:00:00', '2021-12-01T00:00:00', '2022-03-01T00:00:00', '2022-09-01T00:00:00']
2025-09-08 15:32:44,362 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Amounts: [-14706.6, 6.821210263296962e-13, 999.9999999999999, 700.0, 0.0, 0.0, -6000.0, -4.547473508864641e-13, 500.0, 0.0, 0.0, 0.0, 0.0, 1350.0, 0.0, 0.0, -4.547473508864641e-13, 1500.0, 0.0, -3.410605131648481e-13, 20543.000000000004]
2025-09-08 15:32:44,363 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: First amount: -14706.6, Last amount: 20543.000000000004
2025-09-08 15:32:44,364 - app.api.routes.portfolio_funds - INFO -
Monthly cash flows:
2025-09-08 15:32:44,364 - app.api.routes.portfolio_funds - INFO - Month 0: -14706.6
2025-09-08 15:32:44,364 - app.api.routes.portfolio_funds - INFO - Month 1: 0.0
2025-09-08 15:32:44,364 - app.api.routes.portfolio_funds - INFO - Month 2: 0.0
2025-09-08 15:32:44,365 - app.api.routes.portfolio_funds - INFO - Month 3: 0.0
2025-09-08 15:32:44,365 - app.api.routes.portfolio_funds - INFO - Month 4: 0.0
2025-09-08 15:32:44,365 - app.api.routes.portfolio_funds - INFO - Month 5: 0.0
2025-09-08 15:32:44,365 - app.api.routes.portfolio_funds - INFO - Month 6: 0.0
2025-09-08 15:32:44,365 - app.api.routes.portfolio_funds - INFO - Month 7: 0.0
2025-09-08 15:32:44,366 - app.api.routes.portfolio_funds - INFO - Month 8: 0.0
2025-09-08 15:32:44,366 - app.api.routes.portfolio_funds - INFO - Month 9: 0.0
2025-09-08 15:32:44,366 - app.api.routes.portfolio_funds - INFO - Month 10: 0.0
2025-09-08 15:32:44,366 - app.api.routes.portfolio_funds - INFO - Month 11: 0.0
2025-09-08 15:32:44,367 - app.api.routes.portfolio_funds - INFO - Month 12: 0.0
2025-09-08 15:32:44,367 - app.api.routes.portfolio_funds - INFO - Month 13: 999.9999999999999
2025-09-08 15:32:44,367 - app.api.routes.portfolio_funds - INFO - Month 14: 0.0
2025-09-08 15:32:44,367 - app.api.routes.portfolio_funds - INFO - Month 15: 0.0
2025-09-08 15:32:44,367 - app.api.routes.portfolio_funds - INFO - Month 16: 0.0
2025-09-08 15:32:44,368 - app.api.routes.portfolio_funds - INFO - Month 17: 0.0
2025-09-08 15:32:44,368 - app.api.routes.portfolio_funds - INFO - Month 18: 0.0
2025-09-08 15:32:44,368 - app.api.routes.portfolio_funds - INFO - Month 19: 0.0
2025-09-08 15:32:44,368 - app.api.routes.portfolio_funds - INFO - Month 20: 0.0
2025-09-08 15:32:44,369 - app.api.routes.portfolio_funds - INFO - Month 21: 0.0
2025-09-08 15:32:44,369 - app.api.routes.portfolio_funds - INFO - Month 22: 0.0
2025-09-08 15:32:44,369 - app.api.routes.portfolio_funds - INFO - Month 23: 0.0
2025-09-08 15:32:44,369 - app.api.routes.portfolio_funds - INFO - Month 24: 700.0
2025-09-08 15:32:44,369 - app.api.routes.portfolio_funds - INFO - Month 25: 0.0
2025-09-08 15:32:44,370 - app.api.routes.portfolio_funds - INFO - Month 26: 0.0
2025-09-08 15:32:44,370 - app.api.routes.portfolio_funds - INFO - Month 27: 0.0
2025-09-08 15:32:44,370 - app.api.routes.portfolio_funds - INFO - Month 28: 0.0
2025-09-08 15:32:44,370 - app.api.routes.portfolio_funds - INFO - Month 29: 0.0
2025-09-08 15:32:44,370 - app.api.routes.portfolio_funds - INFO - Month 30: 0.0
2025-09-08 15:32:44,371 - app.api.routes.portfolio_funds - INFO - Month 31: 0.0
2025-09-08 15:32:44,371 - app.api.routes.portfolio_funds - INFO - Month 32: 0.0
2025-09-08 15:32:44,371 - app.api.routes.portfolio_funds - INFO - Month 33: 0.0
2025-09-08 15:32:44,371 - app.api.routes.portfolio_funds - INFO - Month 34: 0.0
2025-09-08 15:32:44,371 - app.api.routes.portfolio_funds - INFO - Month 35: 0.0
2025-09-08 15:32:44,372 - app.api.routes.portfolio_funds - INFO - Month 36: 0.0
2025-09-08 15:32:44,372 - app.api.routes.portfolio_funds - INFO - Month 37: 0.0
2025-09-08 15:32:44,372 - app.api.routes.portfolio_funds - INFO - Month 38: -6000.0
2025-09-08 15:32:44,372 - app.api.routes.portfolio_funds - INFO - Month 39: 0.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 40: 0.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 41: 500.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 42: 0.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 43: 0.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 44: 0.0
2025-09-08 15:32:44,373 - app.api.routes.portfolio_funds - INFO - Month 45: 0.0
2025-09-08 15:32:44,374 - app.api.routes.portfolio_funds - INFO - Month 46: 0.0
2025-09-08 15:32:44,374 - app.api.routes.portfolio_funds - INFO - Month 47: 0.0
2025-09-08 15:32:44,374 - app.api.routes.portfolio_funds - INFO - Month 48: 1350.0
2025-09-08 15:32:44,374 - app.api.routes.portfolio_funds - INFO - Month 49: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 50: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 51: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 52: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 53: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 54: 0.0
2025-09-08 15:32:44,375 - app.api.routes.portfolio_funds - INFO - Month 55: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 56: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 57: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 58: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 59: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 60: 0.0
2025-09-08 15:32:44,376 - app.api.routes.portfolio_funds - INFO - Month 61: 0.0
2025-09-08 15:32:44,377 - app.api.routes.portfolio_funds - INFO - Month 62: 0.0
2025-09-08 15:32:44,377 - app.api.routes.portfolio_funds - INFO - Month 63: 0.0
2025-09-08 15:32:44,377 - app.api.routes.portfolio_funds - INFO - Month 64: 1500.0
2025-09-08 15:32:44,377 - app.api.routes.portfolio_funds - INFO - Month 65: 0.0
2025-09-08 15:32:44,377 - app.api.routes.portfolio_funds - INFO - Month 66: 0.0
2025-09-08 15:32:44,378 - app.api.routes.portfolio_funds - INFO - Month 67: 0.0
2025-09-08 15:32:44,378 - app.api.routes.portfolio_funds - INFO - Month 68: 0.0
2025-09-08 15:32:44,378 - app.api.routes.portfolio_funds - INFO - Month 69: 0.0
2025-09-08 15:32:44,378 - app.api.routes.portfolio_funds - INFO - Month 70: 0.0
2025-09-08 15:32:44,379 - app.api.routes.portfolio_funds - INFO - Month 71: 0.0
2025-09-08 15:32:44,379 - app.api.routes.portfolio_funds - INFO - Month 72: 0.0
2025-09-08 15:32:44,379 - app.api.routes.portfolio_funds - INFO - Month 73: 0.0
2025-09-08 15:32:44,380 - app.api.routes.portfolio_funds - INFO - Month 74: 20543.000000000004
2025-09-08 15:32:44,380 - app.api.routes.portfolio_funds - INFO - Calculating IRR using numpy_financial.irr...
2025-09-08 15:32:44,382 - app.api.routes.portfolio_funds - INFO - Raw monthly IRR calculation result: 0.003742534325744451
2025-09-08 15:32:44,383 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.04491041190893341
2025-09-08 15:32:44,383 - app.api.routes.portfolio_funds - INFO - Days in period: 2253
2025-09-08 15:32:44,383 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,383 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.3743%
2025-09-08 15:32:44,383 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 4.4910%
2025-09-08 15:32:44,384 - app.api.routes.portfolio_funds - INFO - Months in period: 75
2025-09-08 15:32:44,384 - app.api.routes.portfolio_funds - INFO - Array size used: 75
2025-09-08 15:32:44,384 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 4.5% over 2253 days (21 cash flow periods)
2025-09-08 15:32:44,384 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,385 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 4.5%
2025-09-08 15:32:44,385 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 11 portfolio funds: 4.5%
2025-09-08 15:32:44,385 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2022-08-01: 4.5%
2025-09-08 15:32:44,388 - app.api.routes.portfolio_funds - INFO - Calculating aggregated IRR for 14 portfolio funds  (BYPASSING CACHE)
2025-09-08 15:32:44,388 - app.api.routes.portfolio_funds - INFO - 🔄 Bypassing cache for fresh calculation as requested
2025-09-08 15:32:44,388 - app.api.routes.portfolio_funds - INFO - IRR calculation date: 2023-08-01
2025-09-08 15:32:44,388 - app.api.routes.portfolio_funds - INFO - 🚀 Batch fetching valuations for 14 funds (eliminates 14 individual requests)     
2025-09-08 15:32:44,389 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1007 as of 2023-08-01
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1008 as of 2023-08-01
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - WARNING - No valuation found for fund 1009 as of 2023-08-01
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Valuation lookup for historical date 2023-08-01:
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Requested fund IDs: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1007, 1008, 1009, 1000]
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Found valuations: {996: 231.81, 997: 2872.41, 998: 0.0, 999: 0.0, 1000: 1106.13, 1001: 3840.69, 1002: 4254.17, 1005: 5153.33, 1006: 16.02, 1534: 2855.83, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,390 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 996 has valuation £231.81 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 997 has valuation £2872.41 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 998 has valuation £0.0 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 999 has valuation £0.0 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1000 has valuation £1106.13 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1001 has valuation £3840.69 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1002 has valuation £4254.17 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1005 has valuation £5153.33 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1006 has valuation £16.02 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1534 has valuation £2855.83 as of 2023-08-01
2025-09-08 15:32:44,391 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1535 has valuation £0.0 as of 2023-08-01
2025-09-08 15:32:44,392 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1007 has NO valuation as of 2023-08-01
2025-09-08 15:32:44,392 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1008 has NO valuation as of 2023-08-01
2025-09-08 15:32:44,392 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1009 has NO valuation as of 2023-08-01
2025-09-08 15:32:44,392 - app.api.routes.portfolio_funds - INFO - ✅ Batch valuation optimization complete - Fund valuations: {996: 231.81, 997: 2872.41, 998: 0.0, 999: 0.0, 1000: 1106.13, 1001: 3840.69, 1002: 4254.17, 1005: 5153.33, 1006: 16.02, 1534: 2855.83, 1535: 0.0, 1007: None, 1008: None, 1009: None}
2025-09-08 15:32:44,392 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: 11 out of 14 funds have valuations as of 2023-08-01
2025-09-08 15:32:44,393 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ⚠️ Excluding 3 funds without valuations from IRR calculation: [1007,  1008, 1009]
2025-09-08 15:32:44,393 - app.api.routes.portfolio_funds - WARNING - 💰 DEBUG: ✅ Including 11 funds with valuations: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1000]
2025-09-08 15:32:44,397 - app.api.routes.portfolio_funds - INFO - 📊 Processing 70 activities across 11 funds
2025-09-08 15:32:44,397 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Separated cash flows by date:
2025-09-08 15:32:44,397 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-07-01: £-14706.6
2025-09-08 15:32:44,398 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-08-01: £6.821210263296962e-13
2025-09-08 15:32:44,398 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-08-01: £999.9999999999999
2025-09-08 15:32:44,398 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-07-01: £700.0
2025-09-08 15:32:44,398 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-02-01: £0.0
2025-09-08 15:32:44,398 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-06-01: £0.0
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-09-01: £-6000.0
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-10-01: £-4.547473508864641e-13
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-12-01: £500.0
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-01-01: £0.0
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-02-01: £0.0
2025-09-08 15:32:44,399 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-03-01: £0.0
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-04-01: £0.0
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-07-01: £1350.0
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-08-01: £0.0
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-09-01: £0.0
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-12-01: £-4.547473508864641e-13
2025-09-08 15:32:44,400 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-11-01: £1500.0
2025-09-08 15:32:44,401 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-12-01: £0.0
2025-09-08 15:32:44,401 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-03-01: £-3.410605131648481e-13
2025-09-08 15:32:44,401 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-09-01: £20330.39
2025-09-08 15:32:44,401 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: About to call calculate_excel_style_irr with:
2025-09-08 15:32:44,401 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Dates: ['2016-07-01T00:00:00', '2016-08-01T00:00:00', '2017-08-01T00:00:00', '2018-07-01T00:00:00', '2019-02-01T00:00:00', '2019-06-01T00:00:00', '2019-09-01T00:00:00', '2019-10-01T00:00:00', '2019-12-01T00:00:00', '2020-01-01T00:00:00', '2020-02-01T00:00:00', '2020-03-01T00:00:00', '2020-04-01T00:00:00', '2020-07-01T00:00:00', '2020-08-01T00:00:00', '2020-09-01T00:00:00', '2020-12-01T00:00:00', '2021-11-01T00:00:00', '2021-12-01T00:00:00', '2022-03-01T00:00:00', '2023-09-01T00:00:00']
2025-09-08 15:32:44,402 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Amounts: [-14706.6, 6.821210263296962e-13, 999.9999999999999, 700.0, 0.0, 0.0, -6000.0, -4.547473508864641e-13, 500.0, 0.0, 0.0, 0.0, 0.0, 1350.0, 0.0, 0.0, -4.547473508864641e-13, 1500.0, 0.0, -3.410605131648481e-13, 20330.39]
2025-09-08 15:32:44,402 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: First amount: -14706.6, Last amount: 20330.39
2025-09-08 15:32:44,402 - app.api.routes.portfolio_funds - INFO -
Monthly cash flows:
2025-09-08 15:32:44,402 - app.api.routes.portfolio_funds - INFO - Month 0: -14706.6
2025-09-08 15:32:44,402 - app.api.routes.portfolio_funds - INFO - Month 1: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 2: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 3: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 4: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 5: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 6: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 7: 0.0
2025-09-08 15:32:44,403 - app.api.routes.portfolio_funds - INFO - Month 8: 0.0
2025-09-08 15:32:44,404 - app.api.routes.portfolio_funds - INFO - Month 9: 0.0
2025-09-08 15:32:44,404 - app.api.routes.portfolio_funds - INFO - Month 10: 0.0
2025-09-08 15:32:44,404 - app.api.routes.portfolio_funds - INFO - Month 11: 0.0
2025-09-08 15:32:44,404 - app.api.routes.portfolio_funds - INFO - Month 12: 0.0
2025-09-08 15:32:44,405 - app.api.routes.portfolio_funds - INFO - Month 13: 999.9999999999999
2025-09-08 15:32:44,405 - app.api.routes.portfolio_funds - INFO - Month 14: 0.0
2025-09-08 15:32:44,405 - app.api.routes.portfolio_funds - INFO - Month 15: 0.0
2025-09-08 15:32:44,405 - app.api.routes.portfolio_funds - INFO - Month 16: 0.0
2025-09-08 15:32:44,405 - app.api.routes.portfolio_funds - INFO - Month 17: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 18: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 19: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 20: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 21: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 22: 0.0
2025-09-08 15:32:44,406 - app.api.routes.portfolio_funds - INFO - Month 23: 0.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 24: 700.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 25: 0.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 26: 0.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 27: 0.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 28: 0.0
2025-09-08 15:32:44,407 - app.api.routes.portfolio_funds - INFO - Month 29: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 30: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 31: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 32: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 33: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 34: 0.0
2025-09-08 15:32:44,408 - app.api.routes.portfolio_funds - INFO - Month 35: 0.0
2025-09-08 15:32:44,409 - app.api.routes.portfolio_funds - INFO - Month 36: 0.0
2025-09-08 15:32:44,409 - app.api.routes.portfolio_funds - INFO - Month 37: 0.0
2025-09-08 15:32:44,409 - app.api.routes.portfolio_funds - INFO - Month 38: -6000.0
2025-09-08 15:32:44,410 - app.api.routes.portfolio_funds - INFO - Month 39: 0.0
2025-09-08 15:32:44,410 - app.api.routes.portfolio_funds - INFO - Month 40: 0.0
2025-09-08 15:32:44,410 - app.api.routes.portfolio_funds - INFO - Month 41: 500.0
2025-09-08 15:32:44,410 - app.api.routes.portfolio_funds - INFO - Month 42: 0.0
2025-09-08 15:32:44,410 - app.api.routes.portfolio_funds - INFO - Month 43: 0.0
2025-09-08 15:32:44,411 - app.api.routes.portfolio_funds - INFO - Month 44: 0.0
2025-09-08 15:32:44,411 - app.api.routes.portfolio_funds - INFO - Month 45: 0.0
2025-09-08 15:32:44,411 - app.api.routes.portfolio_funds - INFO - Month 46: 0.0
2025-09-08 15:32:44,411 - app.api.routes.portfolio_funds - INFO - Month 47: 0.0
2025-09-08 15:32:44,411 - app.api.routes.portfolio_funds - INFO - Month 48: 1350.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 49: 0.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 50: 0.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 51: 0.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 52: 0.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 53: 0.0
2025-09-08 15:32:44,412 - app.api.routes.portfolio_funds - INFO - Month 54: 0.0
2025-09-08 15:32:44,413 - app.api.routes.portfolio_funds - INFO - Month 55: 0.0
2025-09-08 15:32:44,413 - app.api.routes.portfolio_funds - INFO - Month 56: 0.0
2025-09-08 15:32:44,413 - app.api.routes.portfolio_funds - INFO - Month 57: 0.0
2025-09-08 15:32:44,414 - app.api.routes.portfolio_funds - INFO - Month 58: 0.0
2025-09-08 15:32:44,414 - app.api.routes.portfolio_funds - INFO - Month 59: 0.0
2025-09-08 15:32:44,414 - app.api.routes.portfolio_funds - INFO - Month 60: 0.0
2025-09-08 15:32:44,414 - app.api.routes.portfolio_funds - INFO - Month 61: 0.0
2025-09-08 15:32:44,414 - app.api.routes.portfolio_funds - INFO - Month 62: 0.0
2025-09-08 15:32:44,415 - app.api.routes.portfolio_funds - INFO - Month 63: 0.0
2025-09-08 15:32:44,415 - app.api.routes.portfolio_funds - INFO - Month 64: 1500.0
2025-09-08 15:32:44,415 - app.api.routes.portfolio_funds - INFO - Month 65: 0.0
2025-09-08 15:32:44,415 - app.api.routes.portfolio_funds - INFO - Month 66: 0.0
2025-09-08 15:32:44,415 - app.api.routes.portfolio_funds - INFO - Month 67: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 68: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 69: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 70: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 71: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 72: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 73: 0.0
2025-09-08 15:32:44,416 - app.api.routes.portfolio_funds - INFO - Month 74: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 75: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 76: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 77: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 78: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 79: 0.0
2025-09-08 15:32:44,417 - app.api.routes.portfolio_funds - INFO - Month 80: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 81: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 82: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 83: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 84: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 85: 0.0
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Month 86: 20330.39
2025-09-08 15:32:44,418 - app.api.routes.portfolio_funds - INFO - Calculating IRR using numpy_financial.irr...
2025-09-08 15:32:44,424 - app.api.routes.portfolio_funds - INFO - Raw monthly IRR calculation result: 0.003087206614035498
2025-09-08 15:32:44,425 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.03704647936842598
2025-09-08 15:32:44,425 - app.api.routes.portfolio_funds - INFO - Days in period: 2618
2025-09-08 15:32:44,426 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,426 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.3087%
2025-09-08 15:32:44,426 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 3.7046%
2025-09-08 15:32:44,427 - app.api.routes.portfolio_funds - INFO - Months in period: 87
2025-09-08 15:32:44,427 - app.api.routes.portfolio_funds - INFO - Array size used: 87
2025-09-08 15:32:44,427 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 3.7% over 2618 days (21 cash flow periods)
2025-09-08 15:32:44,428 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,428 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 3.7%
2025-09-08 15:32:44,428 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 11 portfolio funds: 3.7%
2025-09-08 15:32:44,428 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2023-08-01: 3.7%
2025-09-08 15:32:44,432 - app.api.routes.portfolio_funds - INFO - Calculating aggregated IRR for 14 portfolio funds  (BYPASSING CACHE)
2025-09-08 15:32:44,432 - app.api.routes.portfolio_funds - INFO - 🔄 Bypassing cache for fresh calculation as requested
2025-09-08 15:32:44,432 - app.api.routes.portfolio_funds - INFO - IRR calculation date: 2024-08-01
2025-09-08 15:32:44,432 - app.api.routes.portfolio_funds - INFO - 🚀 Batch fetching valuations for 14 funds (eliminates 14 individual requests)     
2025-09-08 15:32:44,434 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Valuation lookup for historical date 2024-08-01:
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Requested fund IDs: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1007, 1008, 1009, 1000]
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Found valuations: {996: 45.29, 997: 942.46, 998: 1857.98, 999: 947.76, 1000: 2873.31, 1001: 3836.47, 1002: 3800.07, 1005: 937.46, 1006: 12.79, 1007: 0.0, 1008: 34323.99, 1009: 80565.76, 1534: 2797.23, 1535: 944.44}     
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 996 has valuation £45.29 as of 2024-08-01
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 997 has valuation £942.46 as of 2024-08-01
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 998 has valuation £1857.98 as of 2024-08-01
2025-09-08 15:32:44,435 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 999 has valuation £947.76 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1000 has valuation £2873.31 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1001 has valuation £3836.47 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1002 has valuation £3800.07 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1005 has valuation £937.46 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1006 has valuation £12.79 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1007 has valuation £0.0 as of 2024-08-01
2025-09-08 15:32:44,437 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1008 has valuation £34323.99 as of 2024-08-01
2025-09-08 15:32:44,438 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1009 has valuation £80565.76 as of 2024-08-01
2025-09-08 15:32:44,438 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1534 has valuation £2797.23 as of 2024-08-01
2025-09-08 15:32:44,438 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1535 has valuation £944.44 as of 2024-08-01
2025-09-08 15:32:44,439 - app.api.routes.portfolio_funds - INFO - ✅ Batch valuation optimization complete - Fund valuations: {996: 45.29, 997: 942.46, 998: 1857.98, 999: 947.76, 1000: 2873.31, 1001: 3836.47, 1002: 3800.07, 1005: 937.46, 1006: 12.79, 1007: 0.0, 1008: 34323.99, 1009: 80565.76, 1534: 2797.23, 1535: 944.44}
2025-09-08 15:32:44,439 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: 14 out of 14 funds have valuations as of 2024-08-01
2025-09-08 15:32:44,443 - app.api.routes.portfolio_funds - INFO - 📊 Processing 280 activities across 14 funds
2025-09-08 15:32:44,445 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Separated cash flows by date:
2025-09-08 15:32:44,445 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-07-01: £-129310.6
2025-09-08 15:32:44,445 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-08-01: £9.094947017729282e-13
2025-09-08 15:32:44,445 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-03-01: £325.0
2025-09-08 15:32:44,446 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-04-01: £325.0
2025-09-08 15:32:44,446 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-05-01: £325.0
2025-09-08 15:32:44,446 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-06-01: £325.0
2025-09-08 15:32:44,446 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-07-01: £325.0
2025-09-08 15:32:44,446 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-08-01: £1324.9999999999973
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-09-01: £325.0
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-10-01: £325.0
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-11-01: £325.0
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-12-01: £325.0
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-01-01: £325.0
2025-09-08 15:32:44,447 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-02-01: £325.0
2025-09-08 15:32:44,448 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-03-01: £325.0
2025-09-08 15:32:44,448 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-04-01: £325.0
2025-09-08 15:32:44,448 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-05-01: £325.0
2025-09-08 15:32:44,448 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-06-01: £325.0
2025-09-08 15:32:44,448 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-07-01: £1025.0
2025-09-08 15:32:44,449 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-08-01: £325.0
2025-09-08 15:32:44,449 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-09-01: £325.0
2025-09-08 15:32:44,449 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-10-01: £325.0
2025-09-08 15:32:44,449 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-11-01: £325.0
2025-09-08 15:32:44,449 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-12-01: £325.0
2025-09-08 15:32:44,450 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-01-01: £325.0
2025-09-08 15:32:44,450 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-02-01: £325.00000000000006
2025-09-08 15:32:44,450 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-03-01: £325.0
2025-09-08 15:32:44,450 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-04-01: £325.0
2025-09-08 15:32:44,450 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-05-01: £325.0
2025-09-08 15:32:44,451 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-06-01: £325.0
2025-09-08 15:32:44,451 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-07-01: £325.0
2025-09-08 15:32:44,451 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-08-01: £325.0
2025-09-08 15:32:44,451 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-09-01: £-5675.0
2025-09-08 15:32:44,451 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-10-01: £325.0
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-11-01: £325.0
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-12-01: £825.0
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-01-01: £325.0
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-02-01: £325.00000000000006
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-03-01: £325.0
2025-09-08 15:32:44,452 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-04-01: £325.0
2025-09-08 15:32:44,453 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-05-01: £325.0
2025-09-08 15:32:44,453 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-06-01: £325.0
2025-09-08 15:32:44,453 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-07-01: £1675.0
2025-09-08 15:32:44,453 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-08-01: £325.0
2025-09-08 15:32:44,453 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-09-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-10-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-11-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-12-01: £324.9999999999998
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-01-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-02-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-03-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-04-01: £325.0
2025-09-08 15:32:44,454 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-05-01: £325.0
2025-09-08 15:32:44,455 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-06-01: £325.0
2025-09-08 15:32:44,455 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-07-01: £325.0
2025-09-08 15:32:44,455 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-08-01: £325.0
2025-09-08 15:32:44,455 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-09-01: £325.0
2025-09-08 15:32:44,455 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-10-01: £325.0
2025-09-08 15:32:44,456 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-11-01: £1824.9999999999998
2025-09-08 15:32:44,456 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-12-01: £325.0
2025-09-08 15:32:44,456 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-01-01: £325.0
2025-09-08 15:32:44,456 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-02-01: £325.0
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-03-01: £324.9999999999998
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-04-01: £325.0
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-05-01: £325.0
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-06-01: £325.0
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-07-01: £325.0
2025-09-08 15:32:44,457 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-08-01: £325.0
2025-09-08 15:32:44,458 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-09-01: £325.0
2025-09-08 15:32:44,458 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-10-01: £325.0
2025-09-08 15:32:44,458 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-11-01: £325.0
2025-09-08 15:32:44,458 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-12-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-01-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-02-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-03-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-04-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-05-01: £325.0
2025-09-08 15:32:44,459 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-06-01: £325.0
2025-09-08 15:32:44,460 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-07-01: £325.0
2025-09-08 15:32:44,460 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-08-01: £325.0
2025-09-08 15:32:44,460 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-09-01: £325.0
2025-09-08 15:32:44,460 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-10-01: £325.0
2025-09-08 15:32:44,460 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-11-01: £324.99999999999943
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-12-01: £325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-01-01: £325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-02-01: £325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-03-01: £325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-04-01: £4325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-05-01: £325.0
2025-09-08 15:32:44,461 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-06-01: £325.0
2025-09-08 15:32:44,462 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-07-01: £325.0
2025-09-08 15:32:44,462 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-08-01: £325.0
2025-09-08 15:32:44,462 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-09-01: £133885.01
2025-09-08 15:32:44,463 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: About to call calculate_excel_style_irr with:
2025-09-08 15:32:44,463 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Dates: ['2016-07-01T00:00:00', '2016-08-01T00:00:00', '2017-03-01T00:00:00', '2017-04-01T00:00:00', '2017-05-01T00:00:00', '2017-06-01T00:00:00', '2017-07-01T00:00:00', '2017-08-01T00:00:00', '2017-09-01T00:00:00', '2017-10-01T00:00:00', '2017-11-01T00:00:00', '2017-12-01T00:00:00', '2018-01-01T00:00:00', '2018-02-01T00:00:00', '2018-03-01T00:00:00', '2018-04-01T00:00:00', '2018-05-01T00:00:00', '2018-06-01T00:00:00', '2018-07-01T00:00:00', '2018-08-01T00:00:00', '2018-09-01T00:00:00', '2018-10-01T00:00:00', '2018-11-01T00:00:00', '2018-12-01T00:00:00', '2019-01-01T00:00:00', '2019-02-01T00:00:00', '2019-03-01T00:00:00', '2019-04-01T00:00:00', '2019-05-01T00:00:00', '2019-06-01T00:00:00', '2019-07-01T00:00:00', '2019-08-01T00:00:00', '2019-09-01T00:00:00', '2019-10-01T00:00:00', '2019-11-01T00:00:00', '2019-12-01T00:00:00', '2020-01-01T00:00:00', '2020-02-01T00:00:00', '2020-03-01T00:00:00', '2020-04-01T00:00:00', '2020-05-01T00:00:00', '2020-06-01T00:00:00', '2020-07-01T00:00:00', '2020-08-01T00:00:00', '2020-09-01T00:00:00', '2020-10-01T00:00:00', '2020-11-01T00:00:00', '2020-12-01T00:00:00', '2021-01-01T00:00:00', '2021-02-01T00:00:00', '2021-03-01T00:00:00', '2021-04-01T00:00:00', '2021-05-01T00:00:00', '2021-06-01T00:00:00', '2021-07-01T00:00:00', '2021-08-01T00:00:00', '2021-09-01T00:00:00', '2021-10-01T00:00:00', '2021-11-01T00:00:00', '2021-12-01T00:00:00', '2022-01-01T00:00:00', '2022-02-01T00:00:00', '2022-03-01T00:00:00', '2022-04-01T00:00:00', '2022-05-01T00:00:00', '2022-06-01T00:00:00', '2022-07-01T00:00:00', '2022-08-01T00:00:00', '2022-09-01T00:00:00', '2022-10-01T00:00:00', '2022-11-01T00:00:00', '2022-12-01T00:00:00', '2023-01-01T00:00:00', '2023-02-01T00:00:00', '2023-03-01T00:00:00', '2023-04-01T00:00:00', '2023-05-01T00:00:00', '2023-06-01T00:00:00', '2023-07-01T00:00:00', '2023-08-01T00:00:00', '2023-09-01T00:00:00', '2023-10-01T00:00:00', '2023-11-01T00:00:00', '2023-12-01T00:00:00', '2024-01-01T00:00:00', '2024-02-01T00:00:00', '2024-03-01T00:00:00', '2024-04-01T00:00:00', '2024-05-01T00:00:00', '2024-06-01T00:00:00', '2024-07-01T00:00:00', '2024-08-01T00:00:00', '2024-09-01T00:00:00']
2025-09-08 15:32:44,463 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Amounts: [-129310.6, 9.094947017729282e-13, 325.0, 325.0, 325.0, 325.0, 325.0, 1324.9999999999973, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1025.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.00000000000006, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, -5675.0, 325.0, 325.0, 825.0, 325.0, 325.00000000000006, 325.0, 325.0, 325.0, 325.0, 1675.0, 325.0, 325.0, 325.0, 325.0, 324.9999999999998, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1824.9999999999998, 325.0, 325.0, 325.0, 324.9999999999998, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 324.99999999999943, 325.0, 325.0, 325.0, 325.0, 4325.0, 325.0, 325.0, 325.0, 325.0, 133885.01]
2025-09-08 15:32:44,464 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: First amount: -129310.6, Last amount: 133885.01
2025-09-08 15:32:44,464 - app.api.routes.portfolio_funds - INFO -
Monthly cash flows:
2025-09-08 15:32:44,464 - app.api.routes.portfolio_funds - INFO - Month 0: -129310.6
2025-09-08 15:32:44,464 - app.api.routes.portfolio_funds - INFO - Month 1: 0.0
2025-09-08 15:32:44,464 - app.api.routes.portfolio_funds - INFO - Month 2: 0.0
2025-09-08 15:32:44,465 - app.api.routes.portfolio_funds - INFO - Month 3: 0.0
2025-09-08 15:32:44,465 - app.api.routes.portfolio_funds - INFO - Month 4: 0.0
2025-09-08 15:32:44,465 - app.api.routes.portfolio_funds - INFO - Month 5: 0.0
2025-09-08 15:32:44,466 - app.api.routes.portfolio_funds - INFO - Month 6: 0.0
2025-09-08 15:32:44,466 - app.api.routes.portfolio_funds - INFO - Month 7: 0.0
2025-09-08 15:32:44,466 - app.api.routes.portfolio_funds - INFO - Month 8: 325.0
2025-09-08 15:32:44,466 - app.api.routes.portfolio_funds - INFO - Month 9: 325.0
2025-09-08 15:32:44,467 - app.api.routes.portfolio_funds - INFO - Month 10: 325.0
2025-09-08 15:32:44,467 - app.api.routes.portfolio_funds - INFO - Month 11: 325.0
2025-09-08 15:32:44,467 - app.api.routes.portfolio_funds - INFO - Month 12: 325.0
2025-09-08 15:32:44,467 - app.api.routes.portfolio_funds - INFO - Month 13: 1324.9999999999973
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 14: 325.0
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 15: 325.0
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 16: 325.0
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 17: 325.0
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 18: 325.0
2025-09-08 15:32:44,468 - app.api.routes.portfolio_funds - INFO - Month 19: 325.0
2025-09-08 15:32:44,469 - app.api.routes.portfolio_funds - INFO - Month 20: 325.0
2025-09-08 15:32:44,469 - app.api.routes.portfolio_funds - INFO - Month 21: 325.0
2025-09-08 15:32:44,469 - app.api.routes.portfolio_funds - INFO - Month 22: 325.0
2025-09-08 15:32:44,469 - app.api.routes.portfolio_funds - INFO - Month 23: 325.0
2025-09-08 15:32:44,470 - app.api.routes.portfolio_funds - INFO - Month 24: 1025.0
2025-09-08 15:32:44,470 - app.api.routes.portfolio_funds - INFO - Month 25: 325.0
2025-09-08 15:32:44,470 - app.api.routes.portfolio_funds - INFO - Month 26: 325.0
2025-09-08 15:32:44,470 - app.api.routes.portfolio_funds - INFO - Month 27: 325.0
2025-09-08 15:32:44,470 - app.api.routes.portfolio_funds - INFO - Month 28: 325.0
2025-09-08 15:32:44,471 - app.api.routes.portfolio_funds - INFO - Month 29: 325.0
2025-09-08 15:32:44,471 - app.api.routes.portfolio_funds - INFO - Month 30: 325.0
2025-09-08 15:32:44,472 - app.api.routes.portfolio_funds - INFO - Month 31: 325.00000000000006
2025-09-08 15:32:44,472 - app.api.routes.portfolio_funds - INFO - Month 32: 325.0
2025-09-08 15:32:44,472 - app.api.routes.portfolio_funds - INFO - Month 33: 325.0
2025-09-08 15:32:44,472 - app.api.routes.portfolio_funds - INFO - Month 34: 325.0
2025-09-08 15:32:44,472 - app.api.routes.portfolio_funds - INFO - Month 35: 325.0
2025-09-08 15:32:44,473 - app.api.routes.portfolio_funds - INFO - Month 36: 325.0
2025-09-08 15:32:44,473 - app.api.routes.portfolio_funds - INFO - Month 37: 325.0
2025-09-08 15:32:44,473 - app.api.routes.portfolio_funds - INFO - Month 38: -5675.0
2025-09-08 15:32:44,473 - app.api.routes.portfolio_funds - INFO - Month 39: 325.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 40: 325.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 41: 825.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 42: 325.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 43: 325.00000000000006
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 44: 325.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 45: 325.0
2025-09-08 15:32:44,474 - app.api.routes.portfolio_funds - INFO - Month 46: 325.0
2025-09-08 15:32:44,475 - app.api.routes.portfolio_funds - INFO - Month 47: 325.0
2025-09-08 15:32:44,475 - app.api.routes.portfolio_funds - INFO - Month 48: 1675.0
2025-09-08 15:32:44,475 - app.api.routes.portfolio_funds - INFO - Month 49: 325.0
2025-09-08 15:32:44,475 - app.api.routes.portfolio_funds - INFO - Month 50: 325.0
2025-09-08 15:32:44,475 - app.api.routes.portfolio_funds - INFO - Month 51: 325.0
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 52: 325.0
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 53: 324.9999999999998
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 54: 325.0
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 55: 325.0
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 56: 325.0
2025-09-08 15:32:44,476 - app.api.routes.portfolio_funds - INFO - Month 57: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 58: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 59: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 60: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 61: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 62: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 63: 325.0
2025-09-08 15:32:44,477 - app.api.routes.portfolio_funds - INFO - Month 64: 1824.9999999999998
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 65: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 66: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 67: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 68: 324.9999999999998
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 69: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 70: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 71: 325.0
2025-09-08 15:32:44,478 - app.api.routes.portfolio_funds - INFO - Month 72: 325.0
2025-09-08 15:32:44,479 - app.api.routes.portfolio_funds - INFO - Month 73: 325.0
2025-09-08 15:32:44,479 - app.api.routes.portfolio_funds - INFO - Month 74: 325.0
2025-09-08 15:32:44,479 - app.api.routes.portfolio_funds - INFO - Month 75: 325.0
2025-09-08 15:32:44,479 - app.api.routes.portfolio_funds - INFO - Month 76: 325.0
2025-09-08 15:32:44,479 - app.api.routes.portfolio_funds - INFO - Month 77: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 78: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 79: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 80: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 81: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 82: 325.0
2025-09-08 15:32:44,480 - app.api.routes.portfolio_funds - INFO - Month 83: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 84: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 85: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 86: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 87: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 88: 324.99999999999943
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 89: 325.0
2025-09-08 15:32:44,481 - app.api.routes.portfolio_funds - INFO - Month 90: 325.0
2025-09-08 15:32:44,482 - app.api.routes.portfolio_funds - INFO - Month 91: 325.0
2025-09-08 15:32:44,482 - app.api.routes.portfolio_funds - INFO - Month 92: 325.0
2025-09-08 15:32:44,482 - app.api.routes.portfolio_funds - INFO - Month 93: 4325.0
2025-09-08 15:32:44,482 - app.api.routes.portfolio_funds - INFO - Month 94: 325.0
2025-09-08 15:32:44,483 - app.api.routes.portfolio_funds - INFO - Month 95: 325.0
2025-09-08 15:32:44,483 - app.api.routes.portfolio_funds - INFO - Month 96: 325.0
2025-09-08 15:32:44,483 - app.api.routes.portfolio_funds - INFO - Month 97: 325.0
2025-09-08 15:32:44,483 - app.api.routes.portfolio_funds - INFO - Month 98: 133885.01
2025-09-08 15:32:44,483 - app.api.routes.portfolio_funds - INFO - Calculating IRR using numpy_financial.irr...
2025-09-08 15:32:44,503 - app.api.routes.portfolio_funds - INFO - Raw monthly IRR calculation result: 0.002799677230875375
2025-09-08 15:32:44,504 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.0335961267705045
2025-09-08 15:32:44,504 - app.api.routes.portfolio_funds - INFO - Days in period: 2984
2025-09-08 15:32:44,504 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.2800%
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 3.3596%
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - INFO - Months in period: 99
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - INFO - Array size used: 99
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 3.4% over 2984 days (93 cash flow periods)
2025-09-08 15:32:44,505 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,506 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 3.4%
2025-09-08 15:32:44,506 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 14 portfolio funds: 3.4%
2025-09-08 15:32:44,506 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2024-08-01: 3.4%
2025-09-08 15:32:44,508 - app.api.routes.portfolio_funds - INFO - Calculating aggregated IRR for 14 portfolio funds  (BYPASSING CACHE)
2025-09-08 15:32:44,509 - app.api.routes.portfolio_funds - INFO - 🔄 Bypassing cache for fresh calculation as requested
2025-09-08 15:32:44,509 - app.api.routes.portfolio_funds - INFO - IRR calculation date: 2025-09-01
2025-09-08 15:32:44,509 - app.api.routes.portfolio_funds - INFO - 🚀 Batch fetching valuations for 14 funds (eliminates 14 individual requests)     
2025-09-08 15:32:44,511 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Valuation lookup for historical date 2025-09-01:
2025-09-08 15:32:44,511 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Requested fund IDs: [1534, 1535, 999, 1005, 997, 996, 998, 1001, 1002, 1006, 1007, 1008, 1009, 1000]
2025-09-08 15:32:44,511 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Found valuations: {996: 109.18, 997: 656.47, 998: 1910.53, 999: 579.78, 1000: 1848.95, 1001: 2589.27, 1002: 2432.37, 1005: 0.0, 1006: 11.58, 1007: 0.0, 1008: 33983.83, 1009: 80213.39, 1534: 1809.99, 1535: 660.38}       
2025-09-08 15:32:44,512 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 996 has valuation £109.18 as of 2025-09-01
2025-09-08 15:32:44,512 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 997 has valuation £656.47 as of 2025-09-01
2025-09-08 15:32:44,512 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 998 has valuation £1910.53 as of 2025-09-01
2025-09-08 15:32:44,512 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 999 has valuation £579.78 as of 2025-09-01
2025-09-08 15:32:44,512 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1000 has valuation £1848.95 as of 2025-09-01
2025-09-08 15:32:44,513 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1001 has valuation £2589.27 as of 2025-09-01
2025-09-08 15:32:44,513 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1002 has valuation £2432.37 as of 2025-09-01
2025-09-08 15:32:44,513 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1005 has valuation £0.0 as of 2025-09-01
2025-09-08 15:32:44,513 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1006 has valuation £11.58 as of 2025-09-01
2025-09-08 15:32:44,513 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1007 has valuation £0.0 as of 2025-09-01
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1008 has valuation £33983.83 as of 2025-09-01
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1009 has valuation £80213.39 as of 2025-09-01
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1534 has valuation £1809.99 as of 2025-09-01
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: Fund 1535 has valuation £660.38 as of 2025-09-01
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - INFO - ✅ Batch valuation optimization complete - Fund valuations: {996: 109.18, 997: 656.47, 998: 1910.53, 999: 579.78, 1000: 1848.95, 1001: 2589.27, 1002: 2432.37, 1005: 0.0, 1006: 11.58, 1007: 0.0, 1008: 33983.83, 1009: 80213.39, 1534: 1809.99, 1535: 660.38}
2025-09-08 15:32:44,514 - app.api.routes.portfolio_funds - ERROR - 💰 DEBUG: 14 out of 14 funds have valuations as of 2025-09-01
2025-09-08 15:32:44,518 - app.api.routes.portfolio_funds - INFO - 📊 Processing 346 activities across 14 funds
2025-09-08 15:32:44,521 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Separated cash flows by date:
2025-09-08 15:32:44,522 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-07-01: £-129310.6
2025-09-08 15:32:44,522 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2016-08-01: £0.0
2025-09-08 15:32:44,523 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-03-01: £325.0
2025-09-08 15:32:44,523 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-04-01: £325.0
2025-09-08 15:32:44,523 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-05-01: £325.0
2025-09-08 15:32:44,523 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-06-01: £325.0
2025-09-08 15:32:44,524 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-07-01: £325.0
2025-09-08 15:32:44,524 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-08-01: £1324.9999999999955
2025-09-08 15:32:44,524 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-09-01: £325.0
2025-09-08 15:32:44,525 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-10-01: £325.0
2025-09-08 15:32:44,525 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-11-01: £325.0
2025-09-08 15:32:44,525 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2017-12-01: £325.0
2025-09-08 15:32:44,525 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-01-01: £325.0
2025-09-08 15:32:44,525 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-02-01: £325.0
2025-09-08 15:32:44,526 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-03-01: £325.0
2025-09-08 15:32:44,526 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-04-01: £325.0
2025-09-08 15:32:44,526 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-05-01: £325.0
2025-09-08 15:32:44,526 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-06-01: £325.0
2025-09-08 15:32:44,527 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-07-01: £1025.0
2025-09-08 15:32:44,527 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-08-01: £325.0
2025-09-08 15:32:44,528 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-09-01: £325.0
2025-09-08 15:32:44,528 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-10-01: £325.0
2025-09-08 15:32:44,528 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-11-01: £325.0
2025-09-08 15:32:44,529 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2018-12-01: £325.0
2025-09-08 15:32:44,529 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-01-01: £325.0
2025-09-08 15:32:44,529 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-02-01: £325.0
2025-09-08 15:32:44,530 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-03-01: £325.0
2025-09-08 15:32:44,530 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-04-01: £325.0
2025-09-08 15:32:44,531 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-05-01: £325.0
2025-09-08 15:32:44,531 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-06-01: £325.0
2025-09-08 15:32:44,531 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-07-01: £325.0
2025-09-08 15:32:44,532 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-08-01: £325.0
2025-09-08 15:32:44,532 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-09-01: £-5675.0
2025-09-08 15:32:44,532 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-10-01: £324.99999999999955
2025-09-08 15:32:44,533 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-11-01: £325.0
2025-09-08 15:32:44,533 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2019-12-01: £825.0
2025-09-08 15:32:44,534 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-01-01: £325.0
2025-09-08 15:32:44,535 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-02-01: £325.0
2025-09-08 15:32:44,535 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-03-01: £325.0
2025-09-08 15:32:44,535 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-04-01: £325.0
2025-09-08 15:32:44,535 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-05-01: £325.0
2025-09-08 15:32:44,535 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-06-01: £325.0
2025-09-08 15:32:44,536 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-07-01: £1675.0
2025-09-08 15:32:44,536 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-08-01: £325.0
2025-09-08 15:32:44,536 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-09-01: £325.0
2025-09-08 15:32:44,537 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-10-01: £325.0
2025-09-08 15:32:44,538 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-11-01: £325.0
2025-09-08 15:32:44,538 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2020-12-01: £324.99999999999955
2025-09-08 15:32:44,539 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-01-01: £325.0
2025-09-08 15:32:44,539 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-02-01: £325.0
2025-09-08 15:32:44,540 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-03-01: £325.0
2025-09-08 15:32:44,540 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-04-01: £325.0
2025-09-08 15:32:44,540 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-05-01: £325.0
2025-09-08 15:32:44,541 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-06-01: £325.0
2025-09-08 15:32:44,541 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-07-01: £325.0
2025-09-08 15:32:44,542 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-08-01: £325.0
2025-09-08 15:32:44,542 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-09-01: £325.0
2025-09-08 15:32:44,543 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-10-01: £325.0
2025-09-08 15:32:44,543 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-11-01: £1825.0
2025-09-08 15:32:44,543 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2021-12-01: £325.0
2025-09-08 15:32:44,544 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-01-01: £325.0
2025-09-08 15:32:44,544 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-02-01: £325.0
2025-09-08 15:32:44,545 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-03-01: £324.99999999999994
2025-09-08 15:32:44,545 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-04-01: £325.0
2025-09-08 15:32:44,545 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-05-01: £325.0
2025-09-08 15:32:44,545 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-06-01: £325.0
2025-09-08 15:32:44,546 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-07-01: £325.0
2025-09-08 15:32:44,546 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-08-01: £325.0
2025-09-08 15:32:44,546 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-09-01: £325.0
2025-09-08 15:32:44,546 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-10-01: £325.0
2025-09-08 15:32:44,547 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-11-01: £325.0
2025-09-08 15:32:44,547 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2022-12-01: £325.0
2025-09-08 15:32:44,547 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-01-01: £325.0
2025-09-08 15:32:44,547 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-02-01: £325.0
2025-09-08 15:32:44,548 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-03-01: £325.0
2025-09-08 15:32:44,548 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-04-01: £325.0
2025-09-08 15:32:44,548 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-05-01: £325.0
2025-09-08 15:32:44,548 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-06-01: £325.0
2025-09-08 15:32:44,549 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-07-01: £325.0
2025-09-08 15:32:44,549 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-08-01: £325.0
2025-09-08 15:32:44,549 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-09-01: £325.0
2025-09-08 15:32:44,550 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-10-01: £325.0
2025-09-08 15:32:44,551 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-11-01: £325.0000000000002
2025-09-08 15:32:44,551 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2023-12-01: £325.0
2025-09-08 15:32:44,551 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-01-01: £325.0
2025-09-08 15:32:44,552 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-02-01: £325.0
2025-09-08 15:32:44,552 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-03-01: £325.0
2025-09-08 15:32:44,552 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-04-01: £4324.999999999999
2025-09-08 15:32:44,553 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-05-01: £325.0
2025-09-08 15:32:44,553 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-06-01: £325.0
2025-09-08 15:32:44,553 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-07-01: £325.0
2025-09-08 15:32:44,554 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-08-01: £325.0
2025-09-08 15:32:44,554 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-09-01: £5324.999999999999
2025-09-08 15:32:44,554 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-10-01: £325.0
2025-09-08 15:32:44,555 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-11-01: £325.0
2025-09-08 15:32:44,555 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2024-12-01: £325.0
2025-09-08 15:32:44,556 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-01-01: £500.0
2025-09-08 15:32:44,556 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-02-01: £500.0
2025-09-08 15:32:44,556 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-03-01: £500.0
2025-09-08 15:32:44,557 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-04-01: £500.0
2025-09-08 15:32:44,557 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-05-01: £2500.0
2025-09-08 15:32:44,558 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-06-01: £500.0
2025-09-08 15:32:44,558 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-07-01: £500.0
2025-09-08 15:32:44,558 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-08-01: £500.0
2025-09-08 15:32:44,558 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: 2025-10-01: £126805.72000000002
2025-09-08 15:32:44,560 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: About to call calculate_excel_style_irr with:
2025-09-08 15:32:44,560 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Dates: ['2016-07-01T00:00:00', '2016-08-01T00:00:00', '2017-03-01T00:00:00', '2017-04-01T00:00:00', '2017-05-01T00:00:00', '2017-06-01T00:00:00', '2017-07-01T00:00:00', '2017-08-01T00:00:00', '2017-09-01T00:00:00', '2017-10-01T00:00:00', '2017-11-01T00:00:00', '2017-12-01T00:00:00', '2018-01-01T00:00:00', '2018-02-01T00:00:00', '2018-03-01T00:00:00', '2018-04-01T00:00:00', '2018-05-01T00:00:00', '2018-06-01T00:00:00', '2018-07-01T00:00:00', '2018-08-01T00:00:00', '2018-09-01T00:00:00', '2018-10-01T00:00:00', '2018-11-01T00:00:00', '2018-12-01T00:00:00', '2019-01-01T00:00:00', '2019-02-01T00:00:00', '2019-03-01T00:00:00', '2019-04-01T00:00:00', '2019-05-01T00:00:00', '2019-06-01T00:00:00', '2019-07-01T00:00:00', '2019-08-01T00:00:00', '2019-09-01T00:00:00', '2019-10-01T00:00:00', '2019-11-01T00:00:00', '2019-12-01T00:00:00', '2020-01-01T00:00:00', '2020-02-01T00:00:00', '2020-03-01T00:00:00', '2020-04-01T00:00:00', '2020-05-01T00:00:00', '2020-06-01T00:00:00', '2020-07-01T00:00:00', '2020-08-01T00:00:00', '2020-09-01T00:00:00', '2020-10-01T00:00:00', '2020-11-01T00:00:00', '2020-12-01T00:00:00', '2021-01-01T00:00:00', '2021-02-01T00:00:00', '2021-03-01T00:00:00', '2021-04-01T00:00:00', '2021-05-01T00:00:00', '2021-06-01T00:00:00', '2021-07-01T00:00:00', '2021-08-01T00:00:00', '2021-09-01T00:00:00', '2021-10-01T00:00:00', '2021-11-01T00:00:00', '2021-12-01T00:00:00', '2022-01-01T00:00:00', '2022-02-01T00:00:00', '2022-03-01T00:00:00', '2022-04-01T00:00:00', '2022-05-01T00:00:00', '2022-06-01T00:00:00', '2022-07-01T00:00:00', '2022-08-01T00:00:00', '2022-09-01T00:00:00', '2022-10-01T00:00:00', '2022-11-01T00:00:00', '2022-12-01T00:00:00', '2023-01-01T00:00:00', '2023-02-01T00:00:00', '2023-03-01T00:00:00', '2023-04-01T00:00:00', '2023-05-01T00:00:00', '2023-06-01T00:00:00', '2023-07-01T00:00:00', '2023-08-01T00:00:00', '2023-09-01T00:00:00', '2023-10-01T00:00:00', '2023-11-01T00:00:00', '2023-12-01T00:00:00', '2024-01-01T00:00:00', '2024-02-01T00:00:00', '2024-03-01T00:00:00', '2024-04-01T00:00:00', '2024-05-01T00:00:00', '2024-06-01T00:00:00', '2024-07-01T00:00:00', '2024-08-01T00:00:00', '2024-09-01T00:00:00', '2024-10-01T00:00:00', '2024-11-01T00:00:00', '2024-12-01T00:00:00', '2025-01-01T00:00:00', '2025-02-01T00:00:00', '2025-03-01T00:00:00', '2025-04-01T00:00:00', '2025-05-01T00:00:00', '2025-06-01T00:00:00', '2025-07-01T00:00:00', '2025-08-01T00:00:00', '2025-10-01T00:00:00']
2025-09-08 15:32:44,561 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: Amounts: [-129310.6, 0.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1324.9999999999955, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1025.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, -5675.0, 324.99999999999955, 325.0, 825.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1675.0, 325.0, 325.0, 325.0, 325.0, 324.99999999999955, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 1825.0, 325.0, 325.0, 325.0, 324.99999999999994, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0, 325.0000000000002, 325.0, 325.0, 325.0, 325.0, 4324.999999999999, 325.0, 325.0, 325.0, 325.0, 5324.999999999999, 325.0, 325.0, 325.0, 500.0, 500.0, 500.0, 500.0, 2500.0, 500.0, 500.0, 500.0, 126805.72000000002]
2025-09-08 15:32:44,561 - app.api.routes.portfolio_funds - INFO - 💰 DEBUG: First amount: -129310.6, Last amount: 126805.72000000002
2025-09-08 15:32:44,562 - app.api.routes.portfolio_funds - WARNING - IRR calculation includes 1 future dates. This may affect the result.
2025-09-08 15:32:44,562 - app.api.routes.portfolio_funds - INFO -
Monthly cash flows:
2025-09-08 15:32:44,563 - app.api.routes.portfolio_funds - INFO - Month 0: -129310.6
2025-09-08 15:32:44,563 - app.api.routes.portfolio_funds - INFO - Month 1: 0.0
2025-09-08 15:32:44,563 - app.api.routes.portfolio_funds - INFO - Month 2: 0.0
2025-09-08 15:32:44,563 - app.api.routes.portfolio_funds - INFO - Month 3: 0.0
2025-09-08 15:32:44,563 - app.api.routes.portfolio_funds - INFO - Month 4: 0.0
2025-09-08 15:32:44,564 - app.api.routes.portfolio_funds - INFO - Month 5: 0.0
2025-09-08 15:32:44,564 - app.api.routes.portfolio_funds - INFO - Month 6: 0.0
2025-09-08 15:32:44,564 - app.api.routes.portfolio_funds - INFO - Month 7: 0.0
2025-09-08 15:32:44,564 - app.api.routes.portfolio_funds - INFO - Month 8: 325.0
2025-09-08 15:32:44,564 - app.api.routes.portfolio_funds - INFO - Month 9: 325.0
2025-09-08 15:32:44,565 - app.api.routes.portfolio_funds - INFO - Month 10: 325.0
2025-09-08 15:32:44,565 - app.api.routes.portfolio_funds - INFO - Month 11: 325.0
2025-09-08 15:32:44,565 - app.api.routes.portfolio_funds - INFO - Month 12: 325.0
2025-09-08 15:32:44,566 - app.api.routes.portfolio_funds - INFO - Month 13: 1324.9999999999955
2025-09-08 15:32:44,566 - app.api.routes.portfolio_funds - INFO - Month 14: 325.0
2025-09-08 15:32:44,566 - app.api.routes.portfolio_funds - INFO - Month 15: 325.0
2025-09-08 15:32:44,566 - app.api.routes.portfolio_funds - INFO - Month 16: 325.0
2025-09-08 15:32:44,567 - app.api.routes.portfolio_funds - INFO - Month 17: 325.0
2025-09-08 15:32:44,567 - app.api.routes.portfolio_funds - INFO - Month 18: 325.0
2025-09-08 15:32:44,567 - app.api.routes.portfolio_funds - INFO - Month 19: 325.0
2025-09-08 15:32:44,567 - app.api.routes.portfolio_funds - INFO - Month 20: 325.0
2025-09-08 15:32:44,567 - app.api.routes.portfolio_funds - INFO - Month 21: 325.0
2025-09-08 15:32:44,568 - app.api.routes.portfolio_funds - INFO - Month 22: 325.0
2025-09-08 15:32:44,568 - app.api.routes.portfolio_funds - INFO - Month 23: 325.0
2025-09-08 15:32:44,568 - app.api.routes.portfolio_funds - INFO - Month 24: 1025.0
2025-09-08 15:32:44,568 - app.api.routes.portfolio_funds - INFO - Month 25: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 26: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 27: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 28: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 29: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 30: 325.0
2025-09-08 15:32:44,569 - app.api.routes.portfolio_funds - INFO - Month 31: 325.0
2025-09-08 15:32:44,570 - app.api.routes.portfolio_funds - INFO - Month 32: 325.0
2025-09-08 15:32:44,570 - app.api.routes.portfolio_funds - INFO - Month 33: 325.0
2025-09-08 15:32:44,570 - app.api.routes.portfolio_funds - INFO - Month 34: 325.0
2025-09-08 15:32:44,570 - app.api.routes.portfolio_funds - INFO - Month 35: 325.0
2025-09-08 15:32:44,571 - app.api.routes.portfolio_funds - INFO - Month 36: 325.0
2025-09-08 15:32:44,571 - app.api.routes.portfolio_funds - INFO - Month 37: 325.0
2025-09-08 15:32:44,571 - app.api.routes.portfolio_funds - INFO - Month 38: -5675.0
2025-09-08 15:32:44,571 - app.api.routes.portfolio_funds - INFO - Month 39: 324.99999999999955
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 40: 325.0
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 41: 825.0
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 42: 325.0
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 43: 325.0
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 44: 325.0
2025-09-08 15:32:44,572 - app.api.routes.portfolio_funds - INFO - Month 45: 325.0
2025-09-08 15:32:44,573 - app.api.routes.portfolio_funds - INFO - Month 46: 325.0
2025-09-08 15:32:44,573 - app.api.routes.portfolio_funds - INFO - Month 47: 325.0
2025-09-08 15:32:44,573 - app.api.routes.portfolio_funds - INFO - Month 48: 1675.0
2025-09-08 15:32:44,574 - app.api.routes.portfolio_funds - INFO - Month 49: 325.0
2025-09-08 15:32:44,575 - app.api.routes.portfolio_funds - INFO - Month 50: 325.0
2025-09-08 15:32:44,576 - app.api.routes.portfolio_funds - INFO - Month 51: 325.0
2025-09-08 15:32:44,605 - app.api.routes.portfolio_funds - INFO - Month 52: 325.0
2025-09-08 15:32:44,606 - app.api.routes.portfolio_funds - INFO - Month 53: 324.99999999999955
2025-09-08 15:32:44,606 - app.api.routes.portfolio_funds - INFO - Month 54: 325.0
2025-09-08 15:32:44,607 - app.api.routes.portfolio_funds - INFO - Month 55: 325.0
2025-09-08 15:32:44,607 - app.api.routes.portfolio_funds - INFO - Month 56: 325.0
2025-09-08 15:32:44,607 - app.api.routes.portfolio_funds - INFO - Month 57: 325.0
2025-09-08 15:32:44,607 - app.api.routes.portfolio_funds - INFO - Month 58: 325.0
2025-09-08 15:32:44,607 - app.api.routes.portfolio_funds - INFO - Month 59: 325.0
2025-09-08 15:32:44,608 - app.api.routes.portfolio_funds - INFO - Month 60: 325.0
2025-09-08 15:32:44,608 - app.api.routes.portfolio_funds - INFO - Month 61: 325.0
2025-09-08 15:32:44,608 - app.api.routes.portfolio_funds - INFO - Month 62: 325.0
2025-09-08 15:32:44,608 - app.api.routes.portfolio_funds - INFO - Month 63: 325.0
2025-09-08 15:32:44,608 - app.api.routes.portfolio_funds - INFO - Month 64: 1825.0
2025-09-08 15:32:44,609 - app.api.routes.portfolio_funds - INFO - Month 65: 325.0
2025-09-08 15:32:44,609 - app.api.routes.portfolio_funds - INFO - Month 66: 325.0
2025-09-08 15:32:44,609 - app.api.routes.portfolio_funds - INFO - Month 67: 325.0
2025-09-08 15:32:44,609 - app.api.routes.portfolio_funds - INFO - Month 68: 324.99999999999994
2025-09-08 15:32:44,609 - app.api.routes.portfolio_funds - INFO - Month 69: 325.0
2025-09-08 15:32:44,610 - app.api.routes.portfolio_funds - INFO - Month 70: 325.0
2025-09-08 15:32:44,610 - app.api.routes.portfolio_funds - INFO - Month 71: 325.0
2025-09-08 15:32:44,610 - app.api.routes.portfolio_funds - INFO - Month 72: 325.0
2025-09-08 15:32:44,610 - app.api.routes.portfolio_funds - INFO - Month 73: 325.0
2025-09-08 15:32:44,611 - app.api.routes.portfolio_funds - INFO - Month 74: 325.0
2025-09-08 15:32:44,611 - app.api.routes.portfolio_funds - INFO - Month 75: 325.0
2025-09-08 15:32:44,611 - app.api.routes.portfolio_funds - INFO - Month 76: 325.0
2025-09-08 15:32:44,611 - app.api.routes.portfolio_funds - INFO - Month 77: 325.0
2025-09-08 15:32:44,612 - app.api.routes.portfolio_funds - INFO - Month 78: 325.0
2025-09-08 15:32:44,612 - app.api.routes.portfolio_funds - INFO - Month 79: 325.0
2025-09-08 15:32:44,615 - app.api.routes.portfolio_funds - INFO - Month 80: 325.0
2025-09-08 15:32:44,616 - app.api.routes.portfolio_funds - INFO - Month 81: 325.0
2025-09-08 15:32:44,616 - app.api.routes.portfolio_funds - INFO - Month 82: 325.0
2025-09-08 15:32:44,616 - app.api.routes.portfolio_funds - INFO - Month 83: 325.0
2025-09-08 15:32:44,617 - app.api.routes.portfolio_funds - INFO - Month 84: 325.0
2025-09-08 15:32:44,618 - app.api.routes.portfolio_funds - INFO - Month 85: 325.0
2025-09-08 15:32:44,618 - app.api.routes.portfolio_funds - INFO - Month 86: 325.0
2025-09-08 15:32:44,618 - app.api.routes.portfolio_funds - INFO - Month 87: 325.0
2025-09-08 15:32:44,618 - app.api.routes.portfolio_funds - INFO - Month 88: 325.0000000000002
2025-09-08 15:32:44,623 - app.api.routes.portfolio_funds - INFO - Month 89: 325.0
2025-09-08 15:32:44,623 - app.api.routes.portfolio_funds - INFO - Month 90: 325.0
2025-09-08 15:32:44,623 - app.api.routes.portfolio_funds - INFO - Month 91: 325.0
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 92: 325.0
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 93: 4324.999999999999
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 94: 325.0
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 95: 325.0
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 96: 325.0
2025-09-08 15:32:44,624 - app.api.routes.portfolio_funds - INFO - Month 97: 325.0
2025-09-08 15:32:44,625 - app.api.routes.portfolio_funds - INFO - Month 98: 5324.999999999999
2025-09-08 15:32:44,625 - app.api.routes.portfolio_funds - INFO - Month 99: 325.0
2025-09-08 15:32:44,625 - app.api.routes.portfolio_funds - INFO - Month 100: 325.0
2025-09-08 15:32:44,625 - app.api.routes.portfolio_funds - INFO - Month 101: 325.0
2025-09-08 15:32:44,625 - app.api.routes.portfolio_funds - INFO - Month 102: 500.0
2025-09-08 15:32:44,626 - app.api.routes.portfolio_funds - INFO - Month 103: 500.0
2025-09-08 15:32:44,626 - app.api.routes.portfolio_funds - INFO - Month 104: 500.0
2025-09-08 15:32:44,626 - app.api.routes.portfolio_funds - INFO - Month 105: 500.0
2025-09-08 15:32:44,626 - app.api.routes.portfolio_funds - INFO - Month 106: 2500.0
2025-09-08 15:32:44,626 - app.api.routes.portfolio_funds - INFO - Month 107: 500.0
2025-09-08 15:32:44,627 - app.api.routes.portfolio_funds - INFO - Month 108: 500.0
2025-09-08 15:32:44,627 - app.api.routes.portfolio_funds - INFO - Month 109: 500.0
2025-09-08 15:32:44,627 - app.api.routes.portfolio_funds - INFO - Month 110: 0.0
2025-09-08 15:32:44,627 - app.api.routes.portfolio_funds - INFO - Month 111: 126805.72000000002
2025-09-08 15:32:44,628 - app.api.routes.portfolio_funds - INFO - Calculating IRR using numpy_financial.irr...
2025-09-08 15:32:44,641 - app.api.routes.portfolio_funds - INFO - Raw monthly IRR calculation result: 0.0028331964246306462
2025-09-08 15:32:44,642 - app.api.routes.portfolio_funds - INFO - Annualized IRR (monthly_irr * 12): 0.033998357095567755
2025-09-08 15:32:44,643 - app.api.routes.portfolio_funds - INFO - Days in period: 3379
2025-09-08 15:32:44,643 - app.api.routes.portfolio_funds - INFO -
IRR Results:
2025-09-08 15:32:44,643 - app.api.routes.portfolio_funds - INFO - Monthly IRR: 0.2833%
2025-09-08 15:32:44,643 - app.api.routes.portfolio_funds - INFO - Annualized IRR: 3.3998%
2025-09-08 15:32:44,644 - app.api.routes.portfolio_funds - INFO - Months in period: 112
2025-09-08 15:32:44,644 - app.api.routes.portfolio_funds - INFO - Array size used: 112
2025-09-08 15:32:44,644 - app.api.routes.portfolio_funds - INFO - 📊 IRR Calculation Complete: 3.4% over 3379 days (105 cash flow periods)
2025-09-08 15:32:44,645 - app.api.routes.portfolio_funds - ERROR - 🔴 ✅ MULTIPLE FUNDS IRR CALCULATION COMPLETE
2025-09-08 15:32:44,645 - app.api.routes.portfolio_funds - ERROR - 🔴 🎯 FINAL RESULT: 3.4%
2025-09-08 15:32:44,646 - app.api.routes.portfolio_funds - INFO - ✅ Successfully calculated aggregate IRR for 14 portfolio funds: 3.4%
2025-09-08 15:32:44,647 - app.api.routes.historical_irr - INFO - ✅ Calculated aggregated portfolio IRR for 2025-09-01: 3.4%
2025-09-08 15:32:44,647 - app.api.routes.historical_irr - INFO - Successfully fetched IRR history summary: 16 product rows, 8 date totals

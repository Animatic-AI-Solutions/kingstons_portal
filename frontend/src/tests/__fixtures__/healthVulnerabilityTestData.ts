/**
 * Shared Test Fixtures for Health/Vulnerability Tests
 *
 * This file contains shared mock data used by both HealthSubTab.test.tsx
 * and VulnerabilitiesSubTab.test.tsx to reduce duplication.
 *
 * @module tests/__fixtures__/healthVulnerabilityTestData
 */

import type { ProductOwner } from '@/types/productOwner';
import type { SpecialRelationship } from '@/types/specialRelationship';
import type {
  HealthProductOwner,
  HealthSpecialRelationship,
  VulnerabilityProductOwner,
  VulnerabilitySpecialRelationship,
} from '@/types/healthVulnerability';

// =============================================================================
// Product Owners
// =============================================================================

/**
 * Mock product owners data matching ProductOwner type
 */
export const mockProductOwners: ProductOwner[] = [
  {
    id: 1,
    firstname: 'John',
    surname: 'Smith',
    status: 'active',
    known_as: null,
    title: 'Mr',
    middle_names: null,
    relationship_status: 'Married',
    gender: 'Male',
    previous_names: null,
    dob: '1970-05-15',
    place_of_birth: 'London',
    email_1: 'john@example.com',
    email_2: null,
    phone_1: '07700900001',
    phone_2: null,
    moved_in_date: '2010-01-01',
    address_id: 1,
    address_line_1: '123 Main St',
    address_line_2: null,
    address_line_3: 'London',
    address_line_4: null,
    address_line_5: 'SW1A 1AA',
    three_words: 'Careful, thoughtful, reserved',
    share_data_with: null,
    employment_status: 'Retired',
    occupation: 'Former Engineer',
    passport_expiry_date: '2030-01-01',
    ni_number: 'AB123456C',
    aml_result: 'Pass',
    aml_date: '2024-01-15',
    created_at: '2020-01-01T00:00:00Z',
  },
  {
    id: 2,
    firstname: 'Jane',
    surname: 'Smith',
    status: 'active',
    known_as: 'Janey',
    title: 'Mrs',
    middle_names: null,
    relationship_status: 'Married',
    gender: 'Female',
    previous_names: 'Doe',
    dob: '1972-08-20',
    place_of_birth: 'Manchester',
    email_1: 'jane@example.com',
    email_2: null,
    phone_1: '07700900002',
    phone_2: null,
    moved_in_date: '2010-01-01',
    address_id: 1,
    address_line_1: '123 Main St',
    address_line_2: null,
    address_line_3: 'London',
    address_line_4: null,
    address_line_5: 'SW1A 1AA',
    three_words: 'Confident, friendly, outgoing',
    share_data_with: null,
    employment_status: 'Employed',
    occupation: 'Teacher',
    passport_expiry_date: '2032-06-15',
    ni_number: 'CD789012E',
    aml_result: 'Pass',
    aml_date: '2024-01-15',
    created_at: '2020-01-01T00:00:00Z',
  },
];

// =============================================================================
// Special Relationships
// =============================================================================

/**
 * Mock special relationships data matching SpecialRelationship type
 */
export const mockSpecialRelationships: SpecialRelationship[] = [
  {
    id: 10,
    name: 'Tom Smith',
    type: 'Personal',
    relationship: 'Child',
    status: 'Active',
    date_of_birth: '2000-03-10',
    dependency: true,
    email: 'tom@example.com',
    phone_number: '07700900010',
    address_id: null,
    notes: null,
    firm_name: null,
    product_owner_ids: [1, 2],
    created_at: '2020-02-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
  },
];

// =============================================================================
// Health Records
// =============================================================================

/**
 * Mock health records for product owners
 */
export const mockHealthProductOwners: HealthProductOwner[] = [
  {
    id: 1,
    product_owner_id: 1,
    condition: 'Smoking Status',
    name: 'Current Smoker',
    date_of_diagnosis: null,
    status: 'Active',
    medication: null,
    notes: '10 cigarettes per day',
    created_at: '2024-01-01T00:00:00Z',
    date_recorded: '2024-01-01',
  },
  {
    id: 2,
    product_owner_id: 1,
    condition: 'Diabetes',
    name: 'Type 2',
    date_of_diagnosis: '2020-06-15',
    status: 'Active',
    medication: 'Metformin 500mg twice daily',
    notes: 'Well controlled with diet and medication',
    created_at: '2024-01-01T00:00:00Z',
    date_recorded: '2024-01-01',
  },
  {
    id: 3,
    product_owner_id: 1,
    condition: 'High Blood Pressure',
    name: 'Hypertension',
    date_of_diagnosis: '2018-03-20',
    status: 'Inactive',
    medication: null,
    notes: 'Resolved with lifestyle changes',
    created_at: '2024-01-01T00:00:00Z',
    date_recorded: '2024-01-01',
  },
  {
    id: 4,
    product_owner_id: 2,
    condition: 'Heart Condition',
    name: 'Coronary Artery Disease',
    date_of_diagnosis: '2022-11-10',
    status: 'Active',
    medication: 'Aspirin, Statins',
    notes: 'Regular cardiology checkups',
    created_at: '2024-01-02T00:00:00Z',
    date_recorded: '2024-01-02',
  },
];

/**
 * Mock health records for special relationships
 */
export const mockHealthSpecialRelationships: HealthSpecialRelationship[] = [
  {
    id: 5,
    special_relationship_id: 10,
    condition: 'Respiratory Condition',
    name: 'Asthma',
    date_of_diagnosis: '2005-09-01',
    status: 'Active',
    medication: 'Salbutamol inhaler',
    notes: 'Mild, exercise-induced',
    created_at: '2024-01-03T00:00:00Z',
    date_recorded: '2024-01-03',
  },
];

// =============================================================================
// Vulnerability Records
// =============================================================================

/**
 * Mock vulnerability records for product owners
 * Vulnerabilities have: description, diagnosed (boolean), adjustments_needed, status, notes
 */
export const mockVulnerabilityProductOwners: VulnerabilityProductOwner[] = [
  {
    id: 1,
    product_owner_id: 1,
    description: 'Hearing impairment',
    diagnosed: true,
    status: 'Active',
    adjustments: 'Speak clearly, face person when speaking',
    date_recorded: '2024-01-01',
    notes: 'Mild hearing loss',
    created_at: '2024-01-01T00:00:00Z',
  },
  {
    id: 2,
    product_owner_id: 1,
    description: 'Mobility issues',
    diagnosed: false,
    status: 'Inactive',
    adjustments: null,
    date_recorded: '2023-06-01',
    notes: null,
    created_at: '2023-06-01T00:00:00Z',
  },
  {
    id: 4,
    product_owner_id: 2,
    description: 'Recent bereavement',
    diagnosed: false,
    status: 'Active',
    adjustments: 'Be sensitive, allow extra time for decisions',
    date_recorded: '2024-03-15',
    notes: 'Lost spouse in January 2024',
    created_at: '2024-03-15T00:00:00Z',
  },
];

/**
 * Mock vulnerability records for special relationships
 */
export const mockVulnerabilitySpecialRelationships: VulnerabilitySpecialRelationship[] = [
  {
    id: 3,
    special_relationship_id: 10,
    description: 'Cognitive decline',
    diagnosed: true,
    status: 'Active',
    adjustments: 'Allow extra time for decisions',
    date_recorded: '2024-02-01',
    notes: 'Early stage',
    created_at: '2024-02-01T00:00:00Z',
  },
];

// =============================================================================
// Helper Functions
// =============================================================================

/**
 * Creates a product owner with minimal required fields
 * Useful for generating many test owners quickly
 */
export const createMinimalProductOwner = (
  id: number,
  firstname: string,
  surname: string
): ProductOwner => ({
  id,
  firstname,
  surname,
  status: 'active',
  known_as: null,
  title: null,
  middle_names: null,
  relationship_status: null,
  gender: null,
  previous_names: null,
  dob: null,
  place_of_birth: null,
  email_1: null,
  email_2: null,
  phone_1: null,
  phone_2: null,
  moved_in_date: null,
  address_id: null,
  address_line_1: null,
  address_line_2: null,
  address_line_3: null,
  address_line_4: null,
  address_line_5: null,
  three_words: null,
  share_data_with: null,
  employment_status: null,
  occupation: null,
  passport_expiry_date: null,
  ni_number: null,
  aml_result: null,
  aml_date: null,
  created_at: '2024-01-01T00:00:00Z',
});

/**
 * Creates many product owners for performance testing
 */
export const createManyProductOwners = (count: number): ProductOwner[] =>
  Array.from({ length: count }, (_, i) =>
    createMinimalProductOwner(i + 1, `Person${i}`, `Surname${i}`)
  );
